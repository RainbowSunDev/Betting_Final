(this["webpackJsonp@livechat/chat-widget"]=this["webpackJsonp@livechat/chat-widget"]||[]).push([[1],{228:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(0),i=n(6),a=n(72),o=Object(i.z)("svg",{target:"e1lie4031"})("height:",(function(e){return e.height}),"px;max-width:",(function(e){return e.maxWidth}),"px;"),c=function(e){var t=e.fill,n=e.maxWidth,i=e.height,a=e.className;return r.createElement(o,{fill:"none",viewBox:"0 0 160 160",maxWidth:n,height:i,className:a},r.createElement("path",{fill:t,d:"M159.085714,99.46 C157.595031,119.73 140.392547,134 121.242236,134 C116.481988,134 104.725466,134 100.372671,134 L60.621118,160 L60.621118,134 L100.372671,108 L121.291925,108 C127.970186,108 132.899379,103.14 133.31677,97.48 C134.529211,77.5118568 134.429615,57.4849331 133.018634,37.53 C132.52101,32.032427 128.100485,27.7288599 122.623602,27.41 C109.068323,26.47 94.7975155,25.99 80.4968944,25.99 C66.1962733,25.99 51.9254658,26.47 38.3701863,27.41 C32.8726718,27.7327179 28.4448806,32.068916 27.9751553,37.59 C26.5619825,57.5615396 26.4623865,77.6052393 27.6770186,97.59 C28.0944099,103.25 33.0236025,108.11 39.7018634,108.11 L60.5714286,108.11 L60.5714286,134.11 C56.5962733,134.11 43.7962733,134.11 39.7018634,134.11 C20.5614907,134.11 3.35900621,119.83 1.86832298,99.56 C0.556446575,78.260319 0.656045943,56.8963584 2.16645963,35.61 C3.69007832,17.304012 18.2683121,2.85982372 36.4819876,1.61 C50.6832298,0.5 65.5900621,0 80.4968944,0 C95.4037267,0 110.310559,0.5 124.47205,1.52 C142.685725,2.76982372 157.263959,17.214012 158.787578,35.52 C160.29755,56.8030372 160.397149,78.1636423 159.085714,99.46 Z"}))},l=function(e){var t=e.fill,n=e.maxWidth,i=e.height,a=e.className;return r.createElement(o,{fill:"none",viewBox:"0 0 406 80",maxWidth:n,height:i,className:a},r.createElement("g",{id:"logotype-copy",fill:t,fillRule:"nonzero"},r.createElement("polygon",{points:"0 78.505 49.512 78.505 49.512 66.1148 15.004 66.1148 15.004 2.963 0 2.963"}),r.createElement("path",{d:"M57.072,78.505 L71.647,78.505 L71.647,22.9639 L57.072,22.9639 L57.072,78.505 Z M55.893,8.4379 C55.893,13.2443 59.429,16.8758 64.359,16.8758 C69.289,16.8758 72.825,13.2443 72.825,8.4379 C72.825,3.6315 69.289,0 64.359,0 C59.429,0 55.893,3.6315 55.893,8.4379 Z"}),r.createElement("polygon",{points:"129.178 22.9639 114.603 22.9639 102.6 63.6582 90.597 22.9639 76.022 22.9639 94.991 78.505 110.209 78.505"}),r.createElement("path",{d:"M155.57,79.786 C167.895,79.786 177.862,72.417 179.791,62.2697 L167.037,62.2697 C165.644,66.1148 161.786,69.3191 155.57,69.3191 C147.104,69.3191 143.782,63.6582 143.782,57.1429 L143.782,55.7543 L180.219,55.7543 L180.219,46.0347 C180.219,32.6836 171.86,21.6822 155.356,21.6822 C138.638,21.6822 129.635,32.3632 129.635,47.4232 L129.635,55.0067 C129.635,70.6008 139.817,79.786 155.57,79.786 Z M143.782,44.9666 C143.782,37.49 146.997,31.9359 155.356,31.9359 C163.179,31.9359 166.823,37.1696 166.823,44.1121 L166.823,45.5007 L143.782,45.5007 L143.782,44.9666 Z"}),r.createElement("path",{d:"M219.339,80 C238.308,80 249.989,67.1829 250.74,51.9092 L236.808,51.9092 C235.843,60.3471 230.485,67.7169 219.339,67.7169 C206.8,67.7169 201.442,59.1722 201.442,47.2096 L201.442,35.0334 C201.442,23.0708 206.8,14.526 219.339,14.526 C230.485,14.526 235.843,21.8959 236.808,30.3338 L250.74,30.3338 C249.989,15.0601 238.308,2.243 219.339,2.243 C196.726,2.243 186.545,16.6622 186.545,35.781 L186.545,46.4619 C186.545,65.5808 196.726,80 219.339,80 Z"}),r.createElement("path",{d:"M259.047,78.505 L273.622,78.505 L273.622,45.6075 C273.622,38.1308 277.801,34.2857 284.339,34.2857 C291.412,34.2857 294.52,38.8785 294.52,45.287 L294.52,78.505 L309.095,78.505 L309.095,42.9372 C309.095,29.7997 301.486,21.6822 289.376,21.6822 C282.195,21.6822 276.515,24.7797 273.622,29.5861 L273.622,0 L259.047,0 L259.047,78.505 Z"}),r.createElement("path",{d:"M337.298,79.786 C343.728,79.786 350.801,77.116 353.373,73.378 L353.373,78.505 L367.412,78.505 L367.412,43.0441 C367.412,30.1202 357.874,21.6822 343.942,21.6822 C331.939,21.6822 323.258,27.4499 320.043,38.2376 L333.547,38.2376 C335.047,35.247 338.155,33.004 343.192,33.004 C349.193,33.004 352.837,36.8491 352.837,41.976 L352.837,49.5594 C350.265,47.4232 345.335,44.8598 338.691,44.8598 C325.295,44.8598 316.185,50.4139 316.185,62.4833 C316.185,73.271 324.759,79.786 337.298,79.786 Z M341.048,70.1736 C334.94,70.1736 330.332,67.1829 330.332,62.0561 C330.332,56.9292 334.618,54.1522 341.477,54.1522 C348.014,54.1522 352.837,57.036 352.837,61.9493 C352.837,66.6489 347.479,70.1736 341.048,70.1736 Z"}),r.createElement("path",{d:"M395.03,78.505 L405.104,78.505 L405.104,66.7557 L399.209,66.7557 C395.351,66.7557 393.958,65.2603 393.958,61.6288 L393.958,34.7129 L405.854,34.7129 L405.854,22.9639 L393.958,22.9639 L393.958,7.7971 L379.276,7.7971 L379.276,22.9639 L371.345,22.9639 L371.345,34.7129 L379.276,34.7129 L379.276,62.6969 C379.276,72.523 384.313,78.505 395.03,78.505 Z"})))},s=Object(i.z)("span",{target:"e1lie4030"})("display:inline-flex;position:relative;height:",(function(e){return e.height}),"px;&>:first-child{position:relative;top:",(function(e){return e.verticalGap}),"px;margin-right:",(function(e){return e.horizontalGap}),"px;}");t.c=function(e){var t=e.maxWidth,n=void 0===t?58:t,i=e.colors,o=e.className,u=Object(a.g)(),d=(null==i?void 0:i.signet)||u.colors.brand.orange,m=(null==i?void 0:i.letters)||u.colors.primaryTextColor,b=Math.round(n/5),f=Math.round(n/15),p=Math.round(b/12),g=Math.round(n-(b+f)),h=Math.round(b+p);return r.createElement(s,{horizontalGap:f,verticalGap:p,height:h,className:o},r.createElement(c,{maxWidth:b,height:b,fill:d}),r.createElement(l,{maxWidth:g,height:b,fill:m}))}},639:function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(0),a=n(73),o=n(28),c=n(24),l=n(634),s=n(130),u=n(5),d="overlay_portal_container",m="tooltip_portal_container",b=n(9),f=n(1),p=n(72),g=n(2),h=n(6),v=n(620),j=n(77),O=n(118),y=n(78),x=n(16),w=n(208),E=n(8),k=n(13),C=n(619),z=function(e,t){var n=new Date(e);return n.toLocaleDateString()===(new Date).toLocaleDateString()?t.today(n):function(e){var t=new Date;return t.setDate(t.getDate()-1),e.toLocaleDateString()===t.toLocaleDateString()}(n)?t.yesterday(n):n.toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit"})},S=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window},T=function(e,t,n){var r=Object(g.Cb)(t).sort((function(e,t){return e.timestamp-t.timestamp})),i=Object(g.q)((function(t){return t.node===e}),r);if(i>-1)return{currentTimestamp:r[i].timestamp,previousTimestamp:i>0?r[i-1].timestamp:n}},_=function(e,t){var n=i.useRef({beginingOfTime:t,currentTimestamp:0,subscribers:[],dividers:{}}),r=function(e){var t={timestamp:e,direction:e>n.current.currentTimestamp?"down":"up"};n.current.currentTimestamp=e,n.current.subscribers.forEach((function(e){return e(t)}))},a=function(e){var t=e.rootRef,n=e.rootMargin,r=e.threshold,a=e.intersectionHandler;if(S()){var o=i.useRef(null),l=i.useRef([]),s=Object(c.m)(a);return i.useEffect((function(){return o.current=new IntersectionObserver((function(e,t){s.current&&s.current(e,t)}),{root:t.current,rootMargin:n,threshold:r}),l.current.forEach((function(e){return o.current.observe(e)})),l.current=[],function(){return o.current.disconnect()}}),[n,r,t,s]),Object(c.d)((function(){return{add:function(e){o.current?o.current.observe(e):l.current.push(e)},remove:function(e){o.current?o.current.unobserve(e):l.current=l.current.filter((function(t){return t!==e}))}}}))}}({rootRef:e,intersectionHandler:function(e){var t=function(e,t,n){var r=e.filter((function(e){return e.isIntersecting})).sort((function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top}))[0];if(r){var i=T(r.target,t,n);return i&&i.previousTimestamp}var a=e.filter((function(e){return e.boundingClientRect.top<=e.rootBounds.top})).sort((function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top})).reverse()[0];if(a){var o=T(a.target,t,n);return o&&o.currentTimestamp}}(e,n.current.dividers,n.current.beginingOfTime);t&&r(t)},threshold:.2});return i.useEffect((function(){var e=Object(g.Cb)(n.current.dividers).map((function(e){return e.timestamp})),t=Math.max.apply(Math,e.concat([n.current.beginingOfTime]));n.current.currentTimestamp=t,n.current.subscribers.forEach((function(e){return e({timestamp:t,direction:"up"})}))}),[]),Object(c.d)((function(){return{add:function(e){n.current.dividers[e.timestamp]=e,a&&a.add(e.node)},remove:function(e){a&&a.remove(e.node),delete n.current.dividers[e.timestamp]},subscribe:function(e){n.current.subscribers.push(e)},unsubscribe:function(e){n.current.subscribers=n.current.subscribers.filter((function(t){return t!==e}))},setBeginingOfTime:function(e){n.current.beginingOfTime=e},currentTimestamp:function(){return n.current.currentTimestamp},setToNewestTimestamp:function(){var e=Object.keys(n.current.dividers).map(Number).sort((function(e,t){return t-e}))[0];r(e)}}}))},R=i.createContext(null),I=function(){return i.useContext(R)},A=function(e){var t=e.children,n=e.rootRef,r=e.beginingOfTime,a=e.isOnBottomSource,o=_(n,r);return i.useEffect((function(){o.setBeginingOfTime(r)})),i.useEffect((function(){return a.subscribe((function(e){e&&o.setToNewestTimestamp()}))}),[a,o]),i.createElement(R.Provider,{value:o},t)};var F=Object(h.z)("span",{displayName:"DividerLabel",target:"eceo2x80"})({name:"1rpc86p",styles:"padding:4px 8px;font-size:12px;position:relative;padding:0 8px;&:before,&:after{content:'';width:50vw;height:0;border-top:1px solid;border-top-color:inherit;position:absolute;top:50%;}&:before{right:100%;}&:after{left:100%;}"});function M(){var e=Object(k.a)(["\n\t&-enter ",", &-exit "," {\n\t\tposition: relative;\n\t}\n\n\t&-enter "," {\n\t\ttop: ",";\n\t}\n\t&-enter-active "," {\n\t\ttop: 0;\n\t\ttransition: top ","ms ease-out;\n\t}\n\n\t&-exit {\n\t\topacity: 1;\n\t}\n\t&-exit-active {\n\t\topacity: 0;\n\t\ttransition: opacity ","ms ease-out;\n\t}\n\n\t&-exit "," {\n\t\ttop: 0;\n\t\tposition: relative;\n\t}\n\t&-exit-active "," {\n\t\ttop: ",";\n\t\ttransition: top ","ms ease-out;\n\t}\n"]);return M=function(){return e},e}var P={name:"sx4ymz",styles:"opacity:0;pointer-events:none"},L=Object(h.z)(F,{target:"e1g4em791"})("color:",(function(e){return e.theme.colors.primaryTextColor}),";overflow:hidden;border:1px solid ",(function(e){return e.theme.colors.divider}),";background-color:",(function(e){return e.theme.colors.surface}),";border-radius:",(function(e){return e.theme.borderRadius.md}),";padding:2px 6px;transition:opacity 150ms linear;",(function(e){return!e.visible&&P}),";"),B=Object(h.z)("span",{target:"e1g4em790"})(""),q=200;var H=S()?function(e){var t=e.isUserScrollingSource,n=Object(E.a)(e,["isUserScrollingSource"]),a=Object(c.w)(t),l=I(),s=i.useState({direction:"up",timestamp:l.currentTimestamp()}),u=s[0],d=s[1];return i.useEffect((function(){l.subscribe(d);var e=l.currentTimestamp();return e!==u.timestamp&&d({direction:"up",timestamp:e}),function(){return l.unsubscribe(d)}}),[l]),u.timestamp?i.createElement(o.a,null,(function(e){var t=z(u.timestamp,{today:function(){return e("today")},yesterday:function(){return e("yesterday")}});return i.createElement(r.a,null,(function(e){var r=function(e,t){return e(M(),String(B),String(B),String(B),"up"===t?"-2em":"2em",String(B),q,q,String(B),String(B),"up"===t?"2em":"-2em",q)}(e.css,u.direction);return i.createElement(v.a,{component:null,childFactory:function(e){return i.cloneElement(e,{classNames:r})}},i.createElement(C.a,{key:t,classNames:r,timeout:q},i.createElement(L,Object(f.a)({},n,{visible:a}),i.createElement(B,null,t))))}))})):null}:function(){return null},D=function(e){var t=I();i.useEffect((function(){var n={timestamp:e.timestamp,node:e.nodeRef.current};return t.add(n),function(){t.remove(n)}}),[])};var N=Object(h.z)("div",{target:"ehmqpie0"})({name:"1wai6wj",styles:"height:20px;margin:16px -0.5em;text-align:center;overflow:hidden"}),U=function(e){var t=e.timestamp,n=i.useRef(null);return D({timestamp:t,nodeRef:n}),i.createElement(o.a,null,(function(e){return i.createElement(N,{ref:n},i.createElement(F,null,z(t,{today:function(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},yesterday:function(){return e("yesterday")}})))}))},V=n(34);var W=Object(h.z)("div",{displayName:"NewMessageHorizontalDivider",target:"eacid5n1"})({name:"gbe43y",styles:"height:27px;margin:16px -0.5em;text-align:center;overflow:hidden"}),G=Object(h.z)(V.E,{target:"eacid5n0"})({name:"1c0l2b2",styles:"display:inline-flex;padding:2px 12px;font-weight:normal;box-shadow:none;height:auto;&:before,&:after{border-top:0;}"}),Y=function(e){var t=e.unseenCount,n=e.setScrollTargetNode,r=i.useRef(null),a=i.useState(!0),l=a[0],s=a[1];return Object(c.o)((function(){r.current&&n(r.current)})),i.useEffect((function(){var e=setTimeout((function(){return s(!1)}),625);return function(){return clearTimeout(e)}}),[]),i.createElement(o.a,null,(function(e){return i.createElement(W,{ref:r},i.createElement(G,{animated:l,minScale:.9,maxScale:1.05},e(1===t?"new_message":"new_messages")))}))},K=n(14),Z=Object(h.z)("div",{displayName:"Divider",target:"evqzb400"})("border-top:",(function(e){return"1px solid "+e.theme.colors.lighterOppositeTitleBarColor}),";margin:0 1em;margin-bottom:-1px;z-index:10;position:relative;"),Q=Object(h.z)("div",{target:"ekfrplk0"})((function(e){return e.theme.typography.basic})," color:",(function(e){return e.theme.colors.textPrimary}),";line-height:1.2;color:inherit;display:flex;width:100%;flex-direction:",(function(e){return e.row?"row":"column"}),";"),X=n(626),J=n(253),$=n(17),ee=n(59),te=n.n(ee),ne=function(e,t){return t.getElementById(e)},re=function(e){var t=e.portalId,n=void 0===t?d:t,r=e.children,o=Object(a.useFrame)().document,l=i.useState((function(){return ne(n,o)})),s=l[0],u=l[1];return Object(c.o)((function(){s||u(ne(n,o))})),s?ee.createPortal(r,s):null},ie=n(19);function ae(){var e=Object(k.a)(["\n\t&-enter,\n\t&-appear {\n\t\tbackground-color: rgba(0, 0, 0, 0);\n\t}\n\n\t&-enter-active,\n\t&-appear-active,\n\t&-enter-done,\n\t&-appear-done {\n\t\tbackground-color: ",";\n\t\ttransition: background-color ","ms ",";\n\t}\n\n\t&-exit {\n\t\tbackground-color: ",";\n\t}\n\n\t&-exit-active,\n\t&-exit-done {\n\t\tbackground-color: rgba(0, 0, 0, 0);\n\t\ttransition: background-color ","ms ",";\n\t\ttransition-delay: ","ms;\n\t}\n"]);return ae=function(){return e},e}var oe=300,ce=function(e){return{enter:oe,exit:e+oe}},le=function(e){return"light"===e?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.7)"},se=function(e,t,n){return e(ae(),le(n.variant),oe,n.transitions.easings.smooth,le(n.variant),oe,n.transitions.easings.smooth,t)},ue=function(e){var t=e.zIndex;return Object(r.c)("z-index:",t,";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;")},de=function(e){var t=e.zIndex,n=Object(E.a)(e,["zIndex"]),a=i.useRef(null);return Object(c.g)("touchmove",a),Object(r.d)("div",Object(f.a)({ref:a,css:ue({zIndex:t})},n))},me=function(e){var t=e.shown,n=e.onPress,i=e.exitDelay,a=void 0===i?100:i,o=e.zIndex,c=void 0===o?999:o,l=Object(ie.m)({onPress:n}).pressProps;return Object(r.d)(r.a,null,(function(e){var n=e.css,i=e.theme;return Object(r.d)(v.a,{appear:!0,component:null},t&&Object(r.d)(C.a,{classNames:se(n,a,i),timeout:ce(a)},Object(r.d)(de,Object(f.a)({zIndex:c},l))))}))},be=i.memo(me),fe=n(94),pe=n(131);var ge={name:"jubs0u",styles:"margin:0;background:transparent"},he=function(e){return Object(r.c)("position:absolute;z-index:1500;width:calc(100% - 2rem);max-width:290px;top:1em;left:50%;color:",e.colors.primaryTextColor,";background:",e.colors.surface,";box-shadow:",e.boxShadow.lg,";padding:",1*e.spaceBase,"px;border-radius:",e.borderRadius.md,";")},ve=Object(h.z)("div",{target:"e1yhh5l71"})({name:"4hray5",styles:"display:flex;flex-direction:row-reverse"}),je=Object(h.z)("div",{target:"e1yhh5l70"})("padding:",(function(e){return 1*e.theme.spaceBase}),"px;padding-top:0;"),Oe=i.forwardRef((function(e,t){var n=e.onClose,i=void 0===n?g.W:n,a=e.children,o=e["aria-label"],c=e["aria-labelledby"],l=e.isPreview,u=Object(E.a)(e,["onClose","children","aria-label","aria-labelledby","isPreview"]);Object(J.d)({isDisabled:l});var d=Object(J.c)({isOpen:!0,isDismissable:!0,onClose:i},t).overlayProps,m=Object(J.b)().modalProps,b=Object(X.a)({"aria-label":o,"aria-labelledby":c},t).dialogProps;return Object(r.d)(s.a,{contain:!0,autoFocus:!0,restoreFocus:!0},Object(r.d)("div",Object(f.a)({},Object($.h)(u,d,m,b),{ref:t,css:he}),Object(r.d)(ve,null,Object(r.d)(V.n,{css:ge,onPress:i,"aria-label":"Close modal"},Object(r.d)(V.e,{"aria-hidden":!0}))),Object(r.d)(je,null,a)))})),ye=function(e){var t=e.onClose,n=void 0===t?g.W:t,a=e.shown,o=e.children,c=Object(E.a)(e,["onClose","shown","children"]),l=i.useRef(null),s=Object(fe.b)(),u=Object(pe.b)();return i.useEffect((function(){return u.setModalOpen(a)}),[a,u]),Object(r.d)(re,null,Object(r.d)(be,{shown:a,onPress:n,exitDelay:25}),Object(r.d)(v.a,{component:null},a&&Object(r.d)(w.b,{nodeRef:l},Object(r.d)(Oe,Object(f.a)({onClose:n,ref:l,isPreview:s},c),o))))},xe=n(621),we=n(627),Ee=Object(h.z)("form",{displayName:"Form",section:!0,target:"e1nyj5rz0"})(""),ke=n(227),Ce=Object(h.z)(ke.a,{target:"exlwksr0"})("margin:0;transition:height 100ms ",(function(e){return e.theme.transitions.easings.linear}),";overflow:hidden;color:",(function(e){return e.theme.colors.error}),";",(function(e){return e.theme.typography.errorCaption}),";"),ze=function(e){var t=e.id,n=e.error,r=i.useRef(null);return i.useLayoutEffect((function(){var e=r.current;if(n){e.style.height="auto";var t=getComputedStyle(e).height;e.style.height="0",function(e){e.scrollTop}(e),e.style.height=t}else e.style.height="0"}),[n]),i.createElement(Ce,{id:t,ref:r,role:"alert"},n)},Se=n(21);var Te=Object(Se.h)(),_e={name:"n5jdjp",styles:"border:0;margin:0;padding:0;position:relative;max-height:100%"},Re=function(e){return Object(r.d)("fieldset",Object(f.a)({ref:function(e){if(e&&Te){var t=Object(g.vb)(e.getElementsByTagName("legend"))[0];t&&(e.style.paddingTop=t.clientHeight+"px")}},css:_e},e))},Ie=Object(h.z)("label",{target:"e2zxkge0"})("width:100%;display:inline-block;margin-bottom:",(function(e){return e.theme.spaces.space1}),";a{color:inherit;}",(function(e){var t=e.theme,n=e.isRequired,i=void 0!==n&&n;return[t.typography.basic,{color:t.colors.primaryTextColor},i&&Object(r.c)("&::after{display:inline;content:'\\00a0*';color:",t.colors.error,";",t.typography.errorCaption,";}")]}),";");Ie.defaultProps={textWrap:!0};var Ae=Ie;var Fe=Object(Se.h)(),Me={name:"14fvduy",styles:"position:absolute;top:0;left:0"},Pe=Object(h.z)("legend",{target:"e1kph7ea0"})("padding:0;display:inline-block;width:100%;a{color:inherit;}",(function(e){var t=e.theme,n=e.isRequired,i=void 0!==n&&n;return[t.typography.basic,{color:t.colors.primaryTextColor},i&&Object(r.c)("&::after{display:inline;content:'\\00a0*';",t.typography.errorCaption,";color:",t.colors.error,";}"),Fe&&Me]}),";");Pe.defaultProps={textWrap:!0};var Le=Pe;var Be=Object(h.z)("div",{target:"e1oy1v904"})((function(e){return{margin:.25*e.theme.spaceBase+"px 0"}}),";"),qe=Object(h.z)("div",{target:"e1oy1v903"})("position:relative;display:inline-block;cursor:pointer;width:40px;height:40px;outline-style:",(function(e){return e.focused?"auto":"none"}),";"),He=Object(h.z)("input",{target:"e1oy1v902"})({name:"3gkzjw",styles:"opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;cursor:pointer"}),De=Object(h.z)("div",{target:"e1oy1v901"})("width:",(function(e){return.75*e.theme.spaceBase}),"px;display:inline-block;"),Ne={name:"1gmcbv5",styles:"background-color:'transparent'"},Ue=Object(h.z)(V.o,{target:"e1oy1v900"})("color:",(function(e){return e.theme.colors.primaryTextColor}),";",(function(e){var t=e.theme;return e.checked?Object(r.c)("background-color:",t.colors.pressedElement,";"):Ne}),";"),Ve=function(e){var t=e.rate,n=e.input,r=e.label,a=e.required,o=Object(ie.f)().isFocusVisible,l=Object(c.k)(),s=l[0],u=l[1],d=n.value===t,m=function(e){e.preventDefault(),n.onChange(d?"":t)};return i.createElement(qe,Object(f.a)({},u,{focused:o&&s}),i.createElement(He,{type:"radio",name:n.name,checked:d,value:t,"aria-required":a,"aria-label":r,onClick:m,onKeyDown:function(e){o&&"Enter"===e.key&&m(e)},onChange:g.W}),i.createElement(Ue,{checked:d},"good"===t?i.createElement(V.B,null):i.createElement(V.A,null)))},We=function(e){var t=e.input,n=e.meta,r=e.required,a=n.error&&n.touched;return i.createElement(o.a,null,(function(e){return i.createElement(Be,null,i.createElement(Ve,{rate:"good",input:t,label:e("rate_me_good_tooltip"),required:r}),i.createElement(De,null),i.createElement(Ve,{rate:"bad",input:t,label:e("rate_me_bad_tooltip"),required:r}),i.createElement(ze,{error:a?n.error:null}))}))},Ge=n(66),Ye=Object(h.z)("div",{target:"ewzcz811"})("position:relative;border:1px solid ",(function(e){return e.theme.colors.border}),";border-radius:",(function(e){return e.theme.borderRadius.sm}),";width:100%;background-color:",(function(e){return e.theme.colors.surfaceInteractive}),";color:",(function(e){return e.theme.colors.primaryTextColor}),";transition:border-color 100ms linear;",(function(e){var t=e.focused,n=e.theme;return Object(f.a)({margin:.25*n.spaceBase+"px 0"},t&&{borderColor:n.colors.cta,backgroundColor:n.colors.surface})}),";"),Ke=Object(h.z)("select",{target:"ewzcz810"})("width:100%;-webkit-appearance:none;font-family:inherit;background-color:",(function(e){return e.theme.colors.surfaceInteractive}),";border-radius:",(function(e){return e.theme.borderRadius.sm}),";border:none;&:focus,&:active{outline:none;}&::-ms-expand{display:none;}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography,i=t.colors;return Object(f.a)({},r.input,{color:i.primaryTextColor,padding:n+"px",paddingRight:"32px","&:-moz-focusring":{color:"transparent",textShadow:"0 0 0 "+i.primaryTextColor}})}),";"),Ze=Object(r.c)("position:absolute;pointer-events:none;right:0;top:calc(50% - ",16,"px);"),Qe=i.forwardRef((function(e,t){var n=e.onFocus,a=e.onBlur,o=Object(E.a)(e,["onFocus","onBlur"]),c=i.useState(!1),l=c[0],s=c[1];return Object(r.d)(Ye,{focused:l},Object(r.d)(Ke,Object(f.a)({ref:t},o,{onFocus:function(e){n&&n(e),s(!0)},onBlur:function(e){a&&a(e),s(!1)}})),Object(r.d)(Ge.e,{"aria-hidden":!0,focusable:"false",css:Ze}))})),Xe=function(e){var t=e.input,n=e.meta,r=Object(E.a)(e,["input","meta"]),a=n.touched&&!!n.error;return i.createElement(i.Fragment,null,i.createElement(Qe,Object(f.a)({},t,r,{"aria-invalid":a||void 0})),i.createElement(ze,{error:a?n.error:null}))},Je=n(58),$e=Object(h.z)("input",{target:"e1xplv9i0"})("width:100%;border:1px solid ",(function(e){return e.theme.colors.border}),";-webkit-appearance:none;background-color:",(function(e){return e.theme.colors.surfaceInteractive}),";color:",(function(e){return e.theme.colors.primaryTextColor}),";font-family:inherit;box-shadow:none;transition:border-color 100ms linear,background-color 100ms linear;&::placeholder{opacity:1;color:",(function(e){return e.theme.colors.secondaryTextColor}),";}&:focus,&:active{outline:none;border-color:",(function(e){return e.theme.colors.cta}),";background-color:",(function(e){return e.theme.colors.surface}),";}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography,i=t.borderRadius;return Object(f.a)({borderRadius:i.def},r.input,{padding:n+"px",margin:.25*n+"px 0"})}),";"),et=i.forwardRef((function(e,t){var n=e.value,r=e.errorMessageProps,a=Object(E.a)(e,["value","errorMessageProps"]),o=Object(Je.c)((function(e){return e.getApplicationState("rtl")}))?"rtl":"ltr";return i.createElement(i.Fragment,null,i.createElement($e,Object(f.a)({},a,{ref:t,value:n||"",dir:n?"auto":o})),i.createElement(ze,r))})),tt=Object(h.z)("textarea",{target:"e61759e0"})("width:100%;border:1px solid ",(function(e){return e.theme.colors.border}),";-webkit-appearance:none;background-color:",(function(e){return e.theme.colors.surfaceInteractive}),";font-family:inherit;box-shadow:none;transition:border-color 100ms linear;resize:none;&:focus,&:active{outline:none;border-color:",(function(e){return e.theme.colors.cta}),";background-color:",(function(e){return e.theme.colors.surface}),";}",(function(e){var t=e.theme;return Object(f.a)({borderRadius:t.borderRadius.def},t.typography.input,{color:t.colors.primaryTextColor,padding:t.spaceBase+"px",margin:.25*t.spaceBase+"px 0"})}),";"),nt=i.forwardRef((function(e,t){var n=e.value,r=e.errorMessageProps,a=Object(E.a)(e,["value","errorMessageProps"]),o=Object(Je.c)((function(e){return e.getApplicationState("rtl")}))?"rtl":"ltr";return i.createElement(i.Fragment,null,i.createElement(tt,Object(f.a)({},a,{ref:t,value:n||"",dir:n?"auto":o})),i.createElement(ze,r))})),rt=function(e){return i.createElement("path",Object(f.a)({d:"M4,0.5 C2.06700338,0.5 0.5,2.06700338 0.5,4 L0.5,12 C0.5,13.9329966 2.06700338,15.5 4,15.5 L12,15.5 C13.9329966,15.5 15.5,13.9329966 15.5,12 L15.5,4 C15.5,2.06700338 13.9329966,0.5 12,0.5 L4,0.5 Z"},e))},it=function(e){return i.createElement("path",Object(f.a)({d:"M4,0 L12,0 C14.209139,-4.4408921e-16 16,1.790861 16,4 L16,12 C16,14.209139 14.209139,16 12,16 L4,16 C1.790861,16 0,14.209139 0,12 L0,4 C-4.4408921e-16,1.790861 1.790861,0 4,0 Z"},e))},at=function(e){return i.createElement("polyline",Object(f.a)({strokeWidth:"2",strokeDasharray:"10",strokeLinecap:"round",strokeLinejoin:"round",points:"5 7.90626754 7.06606709 10 12 5"},e))};function ot(){var e=Object(k.a)(["\n  0% {\n    stroke-dashoffset: 10;\n  }\n  33.33% {\n    stroke-dashoffset: 10;\n  }\n  77.78% {\n    stroke-dashoffset: 0;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n"]);return ot=function(){return e},e}function ct(){var e=Object(k.a)(["\n  0% {\n    opacity: 0;\n  }\n  33.33% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 1;\n  }\n"]);return ct=function(){return e},e}var lt=function(e){return Object(r.c)("animation-iteration-count:1;animation-timing-function:",e.transitions.easings.linear,";animation-fill-mode:forwards;animation-duration:300ms;")},st=Object(r.e)(ct()),ut=Object(r.e)(ot()),dt=function(e){var t=e.className,n=e.checked,a=e.focused,o=Object(E.a)(e,["className","checked","focused"]),c=Object(p.g)();return Object(r.d)("svg",Object(f.a)({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",fillRule:"evenodd",css:[Object(r.c)("border-radius:",c.borderRadius.sm,";background-color:",c.colors[n?"surfaceInteractivePressed":"surfaceInteractive"],";"),a&&Object(r.c)("box-shadow:",c.boxShadow.outline,";"),t,""]},o),Object(r.d)(rt,{stroke:c.colors.surfaceInteractivePressed,strokeWidth:"2"}),n&&Object(r.d)(i.Fragment,null,Object(r.d)(it,{fill:c.colors.surfaceInteractivePressed,css:Object(r.c)(lt(c)," animation-name:",st,";")}),Object(r.d)(at,{stroke:c.colors.formIconColor,css:Object(r.c)(lt(c)," animation-name:",ut,";")})))};var mt=Object(h.z)("input",{target:"e81sjne0"})({name:"3aib36",styles:"opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute"}),bt={name:"1u8reph",styles:"display:inline-block;position:relative;height:16px;width:16px"},ft=i.forwardRef((function(e,t){var n=e.className,a=e.defaultChecked,o=void 0!==a&&a,l=e.checked,s=e.id,u=e.onBlur,d=void 0===u?g.W:u,m=e.onChange,b=void 0===m?g.W:m,p=e.onFocus,h=void 0===p?g.W:p,v=Object(E.a)(e,["className","defaultChecked","checked","id","onBlur","onChange","onFocus"]),j=i.useState(void 0!==l?l:o),O=j[0],y=j[1],x=i.useState(!1),w=x[0],k=x[1],C=Object(c.h)();void 0!==l&&O!==l&&y(l);return Object(r.d)("div",{css:[bt,n,""]},Object(r.d)(mt,Object(f.a)({type:"checkbox",checked:O,id:s,onChange:function(e){b(e),void 0===l&&y((function(e){return!e}))},onFocus:function(e){h(e),"keyboard"===C()&&k(!0)},onBlur:function(e){d(e),k(!1)},ref:t},v)),Object(r.d)(dt,{"aria-hidden":!0,checked:O,focused:w,focusable:"false"}))})),pt=function(e){var t=e.color,n=Object(E.a)(e,["color"]),r=Object(p.g)();return i.createElement("circle",Object(f.a)({fillRule:"nonzero",fill:t||r.colors.border,cx:"8",cy:"8",r:"3.5"},n))},gt=function(e){var t=e.color,n=Object(E.a)(e,["color"]),r=Object(p.g)();return i.createElement("circle",Object(f.a)({style:{backgroundColor:"black"},fillRule:"nonzero",cx:"8",cy:"8",r:"7.5",stroke:t||r.colors.surfaceInteractivePressed,strokeWidth:"2"},n))};function ht(){var e=Object(k.a)(["\n  0% {\n    transform: scale(0, 0);\n  }\n  50% {\n    transform: scale(1.1, 1.1);\n  }\n  66.67% {\n    transform: scale(1.1, 1.1);\n  }\n  83.33% {\n    transform: scale(0.95, 0.95);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n"]);return ht=function(){return e},e}var vt=Object(r.e)(ht()),jt=function(e){return Object(r.c)("animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:",e.transitions.easings.linear,";")},Ot=function(e){var t=e.className,n=e.checked,a=e.focused,o=Object(E.a)(e,["className","checked","focused"]),c=Object(p.g)();return Object(r.d)("svg",Object(f.a)({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",fillRule:"evenodd",css:[Object(r.c)("border-radius:",c.borderRadius.round,";background-color:",c.colors[n?"surfaceInteractivePressed":"surfaceInteractive"],";"),a&&Object(r.c)("box-shadow:",c.boxShadow.outline,";"),t,""]},o),Object(r.d)(gt,null),n&&Object(r.d)(i.Fragment,null,Object(r.d)(pt,{color:c.colors.formIconColor,css:Object(r.c)(jt(c)," animation-name:",vt,";transform-origin:50% 50%;")})))};var yt=Object(h.z)("input",{target:"e12lg4gr0"})({name:"3aib36",styles:"opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute"}),xt={name:"1u8reph",styles:"display:inline-block;position:relative;height:16px;width:16px"},wt=function(e){var t=e.className,n=e.defaultChecked,a=void 0!==n&&n,o=e.checked,l=e.id,s=e.onBlur,u=void 0===s?g.W:s,d=e.onChange,m=void 0===d?g.W:d,b=e.onFocus,p=void 0===b?g.W:b,h=Object(E.a)(e,["className","defaultChecked","checked","id","onBlur","onChange","onFocus"]),v=i.useState(void 0!==o?o:a),j=v[0],O=v[1],y=i.useState(!1),x=y[0],w=y[1],k=Object(c.h)();void 0!==o&&j!==o&&O(o);return Object(r.d)("div",{css:[xt,t,""]},Object(r.d)(yt,Object(f.a)({type:"radio",checked:j,id:l,onChange:function(e){m(e),void 0===o&&O((function(e){return!e}))},onBlur:function(e){u(e),w(!1)},onFocus:function(e){p(e),"keyboard"===k()&&w(!0)},required:!0},h)),Object(r.d)(Ot,{"aria-hidden":!0,checked:j,focused:x,focusable:"false"}))};var Et=n(209),kt=Object(h.z)(Et.a,{target:"e1kto1s40"})("margin-top:",(function(e){return e.theme.spaces.space3}),";");var Ct=function(e){var t=e.label,n=e.submitting,r=e.disabled,a=Object(E.a)(e,["label","submitting","disabled"]);return i.createElement(kt,Object(f.a)({pending:n,disabled:n||r,type:"submit"},a),i.createElement("span",null,t))},zt=n(628),St={},Tt={submitError:!0},_t={submitting:!0},Rt={values:!0},It=Object(we.a)(),At={format:function(e){return Object(g.zb)(e||"")},formatOnBlur:!0},Ft=function(e){var t=e.meta,n=Object($.l)(),r=null;return t.submitError&&!t.dirtySinceLastSubmit?r=t.submitError:t.touched&&t.error&&(r=t.error),{validationState:r?"invalid":"valid",errorMessageProps:{error:r,id:n}}},Mt=function(e,t){var n=t.name,r=t.ariaLabel,i=t.ariaLabelledBy,a=t.label,o=t.required,c=t.type,l=t.autoComplete,s=t.inputElementType,u=Object(xe.c)(n,At),d=Ft(u),m=d.validationState,b=d.errorMessageProps,p=Object(zt.a)(Object(f.a)({id:n,type:c,inputElementType:s,isRequired:o,autoComplete:l,validationState:m,"aria-errormessage":b.id,label:a,"aria-label":r,"aria-labelledby":i},u.input),e);return{inputProps:p.inputProps,labelProps:p.labelProps,errorMessageProps:b}},Pt=function(){return i.createElement(xe.b,{subscription:Tt},(function(e){var t=e.submitError;return i.createElement(ze,{error:t||null})}))},Lt=n(162);var Bt=Object(h.z)("div",{target:"e1n7ru1l0"})({name:"1azakc",styles:"text-align:center"}),qt=[It],Ht=function(e){var t=e.id,n=e.children,r=e.initialValues,a=e.submitLabel,o=e.validate,l=e.onSubmit,s=e.disabled,u="form_"+t;return Object(c.o)((function(){Object(Lt.c)()&&function(e){var t=Object(we.b)(e)();if(t.length){var n=t[0],r=n.tagName;("INPUT"===r&&!Object(g.E)(n.type,["checkbox","radio"])||"TEXTAREA"===r)&&Object($.d)(n)}}(u)})),i.createElement(xe.a,{decorators:qt,initialValues:r,onSubmit:l,subscription:St,validate:o},(function(e){var t=e.handleSubmit;return i.createElement(Ee,{name:u,onSubmit:t},n,i.createElement(Pt,null),i.createElement(Bt,null,i.createElement(xe.b,{subscription:_t},(function(e){var t=e.submitting;return i.createElement(Ct,{submitting:t,label:a,disabled:s})}))))}))},Dt=Object(h.z)("div",{target:"eptvlbh0"})("display:flex;flex-direction:column;width:100%;margin-bottom:",(function(e){return e.theme.spaceBase+"px"}),";"),Nt=n(124),Ut=n.n(Nt),Vt=n(114),Wt=n(123),Gt=n(43),Yt=function(e){var t=e.children,n=e.showRequiredMark,r=void 0!==n&&n,a=Object(E.a)(e,["children","showRequiredMark"]);return i.createElement(Ae,Object(f.a)({isRequired:r},a),"string"===typeof t?i.createElement(Ut.a,{component:Vt.a},i.createElement(Wt.a,{preserveLists:!0,template:t,root:{component:Gt.a}})):t)},Kt=function(e){var t=i.useRef(null),n=e.label,r=e.required,a=Mt(t,Object(f.a)({},e,{inputElementType:"textarea"})),o=a.inputProps,c=a.labelProps,l=a.errorMessageProps;return i.createElement(Dt,null,n&&i.createElement(Yt,Object(f.a)({showRequiredMark:r},c),n),i.createElement(nt,Object(f.a)({},o,{errorMessageProps:l,ref:t})))};var Zt=Object(h.z)("div",{target:"e1lbo1s41"})({name:"175oc9c",styles:"display:flex;justify-content:center;flex-shrink:0"}),Qt=Object(h.z)("div",{displayName:"IconLabel",target:"e1lbo1s40"})("display:flex;justify-content:center;align-items:center;",(function(e){var t=e.size,n=e.theme;return{width:t,height:t,borderRadius:n.borderRadius.round,backgroundColor:n.colors.surfaceDecorative}}),";"),Xt=function(e){var t=e.size,n=void 0===t?"64px":t,r=e.children,a=Object(E.a)(e,["size","children"]);return i.createElement(Zt,null,i.createElement(Qt,Object(f.a)({size:n},a),r))},Jt=n(632),$t=n(635);var en=10,tn=Object(h.z)("div",{displayName:"Tooltip",target:"ezqijrk2"})("display:inline-block;background-color:",(function(e){var t=e.theme,n=e.kind;return t.colors[n+"Surface"]}),";color:",(function(e){var t=e.theme;return"hint"===e.kind?t.colors.grayscale[0]:t.colors.primaryTextColor}),";padding:1em;position:fixed;border-radius:",(function(e){return e.theme.borderRadius.lg}),";z-index:9;font-size:0.8em;font-weight:normal;margin-top:0.5em;margin-bottom:0.5em;box-shadow:",(function(e){return e.theme.boxShadow.floating}),";transition:",(function(e){var t=e.theme;return"opacity 200ms "+t.transitions.easings.swift+", transform 300ms "+t.transitions.easings.swift}),";",(function(e){var t=e.position;return{left:t.left?t.left-en+"px":"auto",right:t.right?t.right-en+"px":"auto",top:t.top?t.top+"px":"auto",bottom:t.bottom?t.bottom:"auto",marginRight:t.right?0:"10px",marginLeft:t.left?0:"10px"}}),";"),nn=Object(h.z)("svg",{displayName:"TooltipArrow",target:"ezqijrk1"})("position:absolute;fill:",(function(e){var t=e.theme,n=e.kind;return t.colors[n+"Surface"]}),";margin-top:-1.5em;margin-bottom:-1.5em;",(function(e){var t=e.position,n=e.horizontalFactor,r=e.placement,i=void 0===r?"top":r,a=e.theme;return Object(f.a)({left:t.left?n-en+("modern"===a.name?3:-1)+"px":"auto",right:t.right?n-en+("modern"===a.name?3:-1)+"px":"auto"},"bottom"===i?{top:0}:{bottom:0,transform:"rotate(180deg)"})}),";"),rn=Object(h.z)("div",{target:"ezqijrk0"})({name:"bjn8wh",styles:"position:relative"}),an=function(e,t,n){var r=e.getBoundingClientRect(),i=r.left,a=r.right,o=r.bottom,c=r.top,l=n.window,s=l.innerWidth,u=l.innerHeight,d=l.pageXOffset,m=l.pageYOffset,b="top"===t?{bottom:u-(c+m)}:{top:o+m},p=i+d>s/2?{right:s-(a+d)}:{left:i+d};return Object(f.a)({},b,p)},on={position:{top:0,left:0},targetWidth:0};var cn=function(e){var t=e.children,n=e.description,r=e.allowTouch,o=e.controlsRef,l=e.animated,u=void 0!==l&&l,d=e.placement,b=void 0===d?"bottom":d,p=e.trigger,h=void 0===p?"hover":p,v=e.onOpenChange,j=void 0===v?g.W:v,O=e.kind,y=void 0===O?"hint":O,x=Object(E.a)(e,["children","description","allowTouch","controlsRef","animated","placement","trigger","onOpenChange","kind"]),w=i.useRef(null);Object(ie.k)();var k=i.useRef(null),C=i.useRef(!1),z=i.useState(on),S=z[0],T=z[1],_=i.useState(!1),R=_[0],I=_[1],A=Object(a.useFrame)(),F=Object($t.a)(Object(f.a)({onOpenChange:function(e){u&&requestAnimationFrame((function(){return I(e)}));var t=function(){j(e,C.current),C.current=!1};e?(T({position:an(k.current,b,A),targetWidth:k.current.offsetWidth}),requestAnimationFrame(t)):t()}},x));(null==o?void 0:o.current)&&(o.current={open:function(){C.current=!0,F.open(!0)},close:function(){C.current=!0,F.close(!0)}});var M,P=Object(Jt.b)(x,F,k),L=P.tooltipProps,B=P.triggerProps,q=Object(Jt.a)(L,F).tooltipProps,H=Object(ie.m)({onPress:function(){F.open(!0)}}).pressProps;return Object(c.n)(w,(function(){F.close(!0)}),A),x.isDisabled&&F.isOpen&&F.close(),i.createElement(s.b,Object(f.a)({},"press"===h?H:r?Object($.h)(B,H):B,{ref:k}),t,F.isOpen&&i.createElement(re,{portalId:m},i.createElement(tn,Object(f.a)({ref:w,position:S.position,kind:y},"hover"===h&&q,u&&{style:{opacity:(M=R)?1:0,transform:"translateY("+(M?0:8)+"px)"}}),i.createElement(rn,null,i.createElement(nn,{placement:b,kind:y,horizontalFactor:S.targetWidth/2,height:"10",position:S.position,width:"16"},i.createElement("polygon",{points:"0,10 16,10 8,0"})),n))))};var ln="add_rate_comment_label",sn={name:"1azakc",styles:"text-align:center"},un={name:"870gjp",styles:"font-size:inherit"},dn={name:"l3iapi",styles:"margin-right:6px;margin-left:0"},mn=Object(h.z)(V.n,{target:"e1mt5al70"})((function(e){var t=e.theme;return t.isRtl&&"smooth"===t.name&&dn}),";"),bn=Object(o.c)((function(e,t){var n=t.chatId,r=e.getApplicationState("isPreview"),i=r?function(){return Promise.resolve()}:function(t){var r=t.rate,i=t.comment,a={};return void 0!==r&&(a.rate=r),void 0!==i&&(a.rateComment=i),e.requestUpdateChat(n,{properties:a})};return function(e){var t=e.getChat(n),a=t.active,o=t.properties,c=o.ended;return{chatRate:o.rate,disabled:!r&&(!c&&!a),mobile:e.getApplicationState("mobile"),rateChat:i,localize:e.localize,isPreview:r}}}))((function(e){var t=e.chatRate,n=e.disabled,a=e.mobile,o=e.rateChat,c=e.localize,l=e.isPreview,s=i.useState(!1),u=s[0],d=s[1],m=i.useState(t),b=m[0],f=m[1],p=i.useCallback((function(e){return function(){var n=b===e,r=n?null:e;o({rate:r}).catch((function(){return f(t)})),f(r),d(!n)}}),[b,t,o]);i.useEffect((function(){f(t)}),[t]);var g=function(e){return{disabled:n,active:t===e,onPress:p(e),"aria-label":c(t===e?"cancel_"+e+"_rating":"rate_"+e+"_and_open_modal")}},v=c("good"===t?"rate_me_cancel_tooltip":"rate_me_good_tooltip"),j=c("bad"===t?"rate_me_cancel_tooltip":"rate_me_bad_tooltip");return Object(r.d)(i.Fragment,null,Object(r.d)(cn,{isDisabled:n,description:v},Object(r.d)(mn,g("good"),Object(r.d)(V.B,{css:un,"aria-hidden":!0}))),Object(r.d)(cn,{isDisabled:n,description:j},Object(r.d)(mn,g("bad"),Object(r.d)(V.A,{css:un,"aria-hidden":!0}))),Object(r.d)(ye,{shown:u,onClose:function(){return d(!1)}},Object(r.d)(Xt,null,"good"===b?Object(r.d)(V.B,{label:c("rate_me_confirmation_good")}):Object(r.d)(V.A,{label:c("rate_me_confirmation_bad")})),Object(r.d)("p",{id:ln,css:sn},c("rate_me_add_comment")),Object(r.d)(Ht,{id:"rate_comment",mobile:a,onSubmit:function(e){o({comment:e.comment}),d(!1)},submitLabel:c("button_add_feedback"),validate:function(e){return e.comment?{}:{comment:c("survey_fill_in_required_fields")}},disabled:l},Object(r.d)(h.q,null,Object(r.d)(Kt,{label:"",serverName:"",type:"textarea",name:"comment",localize:function(){return c("rate_me_placeholder")},ariaLabelledBy:ln,required:!0})))))}));var fn={name:"1wcfv52",styles:"margin-right:0"},pn=Object(h.z)("div",{target:"ekqutxs1"})("display:flex;align-items:center;position:relative;",(function(e){var t=e.theme;return Object(r.c)("margin-",t.isRtl?"left":"right",":0.5em;")}),";"),gn=Object(h.z)("div",{target:"ekqutxs0"})("position:absolute;",(function(e){var t=e.availability,n=e.size,r=e.theme;return{width:"small"===n?r.spaces.space4:r.spaces.space5,height:"small"===n?r.spaces.space4:r.spaces.space5,background:"online"===t?r.colors.success:r.colors.grayscale[500],border:"2px solid "+r.colors.surface,borderRadius:r.borderRadius.round,top:"-2px",right:"-2px"}}),";"),hn=function(e){var t=e.avatarUrl,n=e.availability,i=e.size,a=void 0===i?"normal":i;return Object(r.d)(pn,null,Object(r.d)(h.b,{css:fn,imgUrl:t,size:"small"===a?"24px":void 0}),n&&Object(r.d)(gn,{availability:n,size:a}))};var vn={name:"f7ay7b",styles:"justify-content:center"},jn=Object(h.z)("div",{target:"e10kp68a1"})({name:"8xhv84",styles:"width:100%;display:flex"}),On=Object(r.c)(vn," flex:1;"),yn=Object(r.c)(vn," min-width:auto;"),xn=Object(h.z)("img",{target:"e10kp68a0"})({name:"1lnnphj",styles:"height:auto;max-height:50px"}),wn=function(e){var t=e.agent,n=e.chatId,i=e.showAvatar,a=e.logoPath,o=e.isRatingEnabled,c="modern"===Object(p.g)().name;return Object(r.d)(jn,null,i&&t.avatar&&Object(r.d)(hn,{avatarUrl:t.avatar,availability:"online"}),Object(r.d)(h.q,{flexFill:!0},Object(r.d)(h.f,{css:On,flexFill:!0},Object(r.d)(h.w,{ellipsis:!0},Object(r.d)(Gt.a,null,t.name)),t.properties.jobTitle&&Object(r.d)(h.s,{ellipsis:!0},Object(r.d)(Gt.a,null,t.properties.jobTitle)),o&&c&&Object(r.d)(h.q,null,Object(r.d)(bn,{chatId:n}))),o&&!c&&Object(r.d)(h.f,{css:vn,noShrink:!0},Object(r.d)(h.q,null,Object(r.d)(bn,{chatId:n}))),!!a&&Object(r.d)(h.f,{css:yn},Object(r.d)(xn,{alt:"",src:a,draggable:!1}))))},En=function(e){return void 0===e&&(e=3),Object(r.c)("-webkit-line-clamp:",e,";-webkit-box-orient:vertical;-webkit-box-pack:center;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;")},kn="top-bar";var Cn={name:"l3iapi",styles:"margin-right:6px;margin-left:0"},zn=Object(h.z)(V.n,{target:"eyohww44"})("width:24px;height:24px;opacity:1;background-color:",(function(e){var t=e.theme;return"modern"===t.name?"transparent":t.colors.lighterOppositeAgentBarColor}),";",(function(e){return e.theme.isRtl&&Cn}),";"),Sn=Object(h.z)(V.d,{target:"eyohww43"})((function(e){return"up"===e.direction&&{transform:"rotate(180deg)"}})," transition:transform 0.3s ",(function(e){return e.theme.transitions.easings.swift}),";"),Tn=Object(h.z)(Q,{target:"eyohww42"})("display:flex;text-align:left;overflow:hidden;height:auto;width:100%;align-items:",(function(e){return e.veritcallyCenter?"center":"flex-start"}),";transition:height 0.3s ",(function(e){return e.theme.transitions.easings.swift}),";will-change:height;line-height:1.5;a{color:inherit;}"),_n=Object(h.z)("div",{target:"eyohww41"})("height:",42,"px;display:flex;align-items:center;"),Rn=Object(h.z)(Xt,{target:"eyohww40"})("margin:",(function(e){return e.theme.isRtl?"4px 0 4px 15px":"4px 15px 4px 0"}),";background-color:",(function(e){return e.theme.colors.decorativeOppositeTitleBarColor}),";"),In=function(e){var t=e.text,n=e.icon,a=e.isLoadingHistory,c=e.forceExpanded,l=e.forceCollapsed,s=e.isUploadDrawerVisible,u=i.useState(!0),d=u[0],m=u[1],b=i.useState(!1),f=b[0],p=b[1],g=i.useState(!1),h=g[0],v=g[1],j=i.useState(null),O=j[0],y=j[1],x=i.useState(!1),w=x[0],E=x[1],k=i.useRef(null),C=Object($.l)(),z=i.useCallback((function(e){var t=(void 0===e?{}:e).shouldKeepPrevious,n=void 0!==t&&t;if(d){var r=k.current.clientHeight;r!==O&&y(r),k.current.style.height=r+"px",k.current.scrollTop}k.current.style.height=(d?42:Number(O))+"px",n&&p(d),m((function(e){return!e}))}),[d,O]),S=function(){d&&(k.current.style.height="auto")},T=a&&d,_=l&&d,R=f&&!l&&!d&&!s;return i.useEffect((function(){if(k&&!c){var e=k.current.clientHeight>42;v(e)}k&&c&&(k.current.style.height="auto",v(!1))}),[k,c]),i.useEffect((function(){h&&(y(k.current.clientHeight),k.current.style.height="42px",E(!0),m(!1))}),[h]),i.useEffect((function(){(T||_)&&z({shouldKeepPrevious:_})}),[z,T,_]),i.useEffect((function(){R&&(p(!1),z())}),[z,R]),Object(r.d)(o.a,null,(function(e){return Object(r.d)(Tn,{ref:k,row:!0,veritcallyCenter:!h,onTransitionEnd:S,textWrap:!0},Object(r.d)(_n,{"aria-hidden":!0},Object(r.d)(Rn,{size:"24px",isLight:!0},n)),Object(r.d)("div",{css:!d&&h?En(2):"",id:C},Object(r.d)(Ut.a,{component:Vt.a},Object(r.d)(Wt.a,{template:t,limit:d?void 0:120,root:{component:Gt.a}}))),h&&Object(r.d)(_n,null,Object(r.d)(zn,{onPress:z,"aria-expanded":d,"aria-controls":C,"aria-label":e(d?"show_less":"show_more")},Object(r.d)(Sn,{size:24,direction:w&&d?"up":"down","aria-hidden":!0}))))}))},An=n(22),Fn={modern:42,smooth:56},Mn=Object(h.z)("div",{target:"e8t2lg23"})("width:",(function(e){return e.isVisible?100:0}),"%;height:",(function(e){return e.isVisible?100:0}),"%;position:absolute;top:0;left:0;z-index:101;"),Pn=Object(h.z)("div",{target:"e8t2lg22"})("position:relative;top:",(function(e){return e.topOffset}),"px;left:0;width:100%;height:",(function(e){return"calc(100% - "+e.topOffset+"px)"}),";background-color:",(function(e){var t=e.theme;return Object(An.f)(t.colors.surface,.93)}),";padding:",(function(e){return e.theme.spaces.space3}),";pointer-events:none;"),Ln=Object(h.z)("div",{target:"e8t2lg21"})("display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;border:2px dashed ",(function(e){return e.theme.colors.border}),";border-radius:",(function(e){return e.theme.borderRadius.lg}),";color:",(function(e){return e.theme.colors.primaryTextColor}),";"),Bn=Object(h.z)("h1",{target:"e8t2lg20"})((function(e){return e.theme.typography.subheading}),";"),qn=Object(o.c)((function(e){return{uploadFile:function(t){return Object(x.e)(e,t,"drag")},hideDropArea:function(){return e.setApplicationState({dropAreaVisible:!1})},isVisible:e.getApplicationState("dropAreaVisible")}}))((function(e){var t=e.isVisible,n=e.uploadFile,r=e.hideDropArea,a=e.topBarHeight,c=i.useState(!1),l=c[0],s=c[1],u=Object(p.g)(),d=Fn[u.name]+a,m=function(e){e.preventDefault(),e.stopPropagation()};return i.createElement(re,null,i.createElement(Mn,{onDragLeave:function(){r()},onDragOver:m,onDrop:function(e){var t;m(e);var i=null==(t=e.dataTransfer)?void 0:t.files;i&&Array.prototype.forEach.call(i,n),r()},isVisible:t||l},i.createElement(v.a,{appear:!0,component:null},t&&i.createElement(w.d,{length:300,onEnter:function(){return s(!0)},onExited:function(){return s(!1)}},i.createElement(Pn,{topOffset:d},i.createElement(Ln,null,i.createElement(V.g,null),i.createElement(o.a,null,(function(e){return i.createElement(Bn,null,e("drop_files_here"))}))))))))}));function Hn(){var e=Object(k.a)(["\n\t&-enter,\n\t&-appear {\n\t\ttransform: translateY(-100%);\n\t}\n\n\t&-enter-active,\n\t&-appear-active,\n\t&-enter-done,\n\t&-appear-done {\n\t\ttransform: translateY(0);\n\t\ttransition: transform ","ms ",";\n\t}\n\n\t&-exit {\n\t\ttransform: translateY(0);\n\t}\n\n\t&-exit-active {\n\t\ttransform: translateY(-100%);\n\t\ttransition: transform ","ms ",";\n\t}\n"]);return Hn=function(){return e},e}var Dn=Object(h.z)(h.a,{target:"eraual4"})("position:relative;box-shadow:",(function(e){return e.theme.boxShadow.sm}),";"),Nn=Object(h.z)("div",{displayName:"TopBar",target:"eraual3"})("position:relative;height:auto;bottom:0;z-index:",(function(e){return e.elevate?102:1}),";pointer-events:",(function(e){return e.elevate?"none":"all"}),";@media (max-height: 330px){display:none;}"),Un=Object(h.z)("div",{target:"eraual2"})("min-height:calc(",42,"px + 2 * ",(function(e){return e.theme.AgentBar.css.padding}),");"),Vn={name:"1pc9iid",styles:"position:relative;box-shadow:none;padding:0"},Wn=Object(h.z)(h.a,{target:"eraual1"})("position:absolute;top:0;left:0;width:100%;box-shadow:",(function(e){return e.theme.boxShadow.sm}),";",(function(e){return e.collapsed&&Vn}),";"),Gn=Object(h.z)("div",{target:"eraual0"})("position:relative;width:100%;z-index:",(function(e){var t=e.collapsed;return e.elevate?102:t?2:1}),";pointer-events:",(function(e){return e.elevate?"none":"all"}),";"),Yn="cubic-bezier(0.14, 0, 0, 1)",Kn={enter:150,exit:150},Zn=function(e){return e(Hn(),150,Yn,150,Yn)},Qn={name:"kul0w8",styles:"transition:opacity 100ms ease-in-out;position:relative"},Xn=Object(o.c)((function(e,t){var n=t.chatId;return function(e){var t,r=e.getView("Chat/queue"),i=Object(b.ib)(e),a=Object(b.lb)(e),o=Object(b.mb)(e),c=Object(b.h)("logo",e),l=c.enabled&&"modern"===Object(b.w)(e);return{agent:Object(b.d)(n,e),chatActive:e.getChat(n).active,showAvatar:Object(b.h)("agentAvatar",e).enabled,isRatingEnabled:Object(b.h)("rating",e).enabled,logoPath:l?(t=c.path,"https://"+Object(K.l)(t)):null,showAgentBar:i,showOfflineInformation:a,showQueueInformation:o,offlineInformation:e.localize(e.getApplicationState("limitReached")||!Object(b.K)(e)?"agents_not_available":"agents_not_available_continuous"),queueTemplate:Object(b.r)(e),numberInQueue:r&&r.numberInQueue,waitingTime:r&&r.waitingTime,showTopBar:Object(b.bb)(e),hasNoVisibleEvents:Object(b.F)(e),isDropAreaVisible:e.getApplicationState("dropAreaVisible"),isUploadingFiles:!!Object(b.p)(e).length}}}))((function(e){var t=e.agent,n=e.chatId,a=e.showAvatar,o=e.isRatingEnabled,l=e.logoPath,s=e.showAgentBar,u=e.scrollingDeltaSource,d=e.isOnBottomSource,m=e.showOfflineInformation,b=e.offlineInformation,f=e.showQueueInformation,j=e.queueTemplate,O=e.numberInQueue,y=e.waitingTime,x=e.showTopBar,w=e.isLoadingHistory,E=e.children,k=e.hasNoVisibleEvents,z=e.isDropAreaVisible,S=e.isUploadingFiles,T=i.useRef(),_=i.useRef(),R=i.useRef(0),I=i.useRef(),A=i.useState(!0),F=A[0],M=A[1],P="modern"===Object(p.g)().name,L=i.useCallback((function(){M(!0),T.current&&(T.current.style.bottom=0,T.current.style.height="auto"),_.current&&(_.current.style.opacity=1)}),[T]);Object(c.a)(u,(function(e){var t=e.y;s&&("auto"===T.current.style.height&&(R.current=T.current.offsetHeight),1===t&&M(!1),!F&&t<1&&M(!0),T.current&&(T.current.style.bottom=t*R.current+"px",T.current.style.height=R.current-t*R.current+"px"),_.current&&(_.current.style.opacity=1-2*t))}));return i.useEffect((function(){L()}),[x,L]),i.useEffect((function(){if(d)return d.subscribe((function(e){e&&L()}))}),[d,L]),i.useEffect((function(){T.current&&Object(g.vb)(T.current.querySelectorAll("button")).forEach((function(e){e.tabIndex=F?0:-1}))}),[F]),Object(r.d)("div",{ref:I},Object(r.d)(qn,{topBarHeight:F&&I.current?I.current.clientHeight:0}),Object(r.d)(Nn,{id:kn,ref:T,elevate:z},Object(r.d)(r.a,null,(function(e){var i=e.css;return Object(r.d)(v.a,{appear:!0,component:null,exit:F},s&&Object(r.d)(C.a,{timeout:Kn,classNames:Zn(i)},Object(r.d)("div",null,!P&&Object(r.d)(Z,null),Object(r.d)(Dn,{noShrink:!0},Object(r.d)(h.q,{flexFill:!0,ref:_,css:Qn},Object(r.d)(wn,{agent:t,chatId:n,showAvatar:a,logoPath:l,isRatingEnabled:o}))))))}))),Object(r.d)(Gn,{collapsed:!(f||m),elevate:z},(f||m)&&Object(r.d)(i.Fragment,null,!P&&Object(r.d)(Z,null),Object(r.d)(Un,null)),Object(r.d)(r.a,null,(function(e){var t=e.css;return Object(r.d)(v.a,{appear:f||m,component:null},Object(r.d)(C.a,{timeout:Kn,classNames:Zn(t)},Object(r.d)(Wn,{collapsed:!(f||m)},f&&Object(r.d)(In,{text:j.replace(/%number%/g,"**"+O+"**").replace(/%minutes%/g,"**"+Math.floor(y/60)+"**"),icon:Object(r.d)(V.m,{size:24}),isLoadingHistory:w,forceExpanded:k,forceCollapsed:z,isUploadDrawerVisible:S}),m&&Object(r.d)(In,{text:b,icon:Object(r.d)(V.p,null),isLoadingHistory:w,forceExpanded:k,forceCollapsed:z,isUploadDrawerVisible:S}),E)))}))))})),Jn=n(212),$n=n(133),er=function(e){var t=e.children;return i.createElement(h.i,{date:"",showMetaOnClick:!1,system:!0},i.createElement(h.c,null,i.createElement($n.a,{text:t})))},tr=n(219);var nr=Object(h.z)(tr.a,{displayName:"SystemCard",target:"e1r9cm3y0"})({name:"1u4gyuh",styles:"padding:8px;margin:2px 0;width:100%;max-width:270px;position:relative"}),rr=Object(h.z)("div",{target:"e1q4zsg91"})("display:flex;flex-direction:row;position:absolute;top:-21px;left:0;right:0;color:",(function(e){return e.theme.colors.ctaText}),";"),ir=Object(h.z)("div",{target:"e1q4zsg90"})("display:flex;justify-content:center;align-items:center;overflow:hidden;margin:0 auto;border-radius:",(function(e){return e.theme.borderRadius.round}),";width:",42,"px;height:",42,"px;background-color:",(function(e){var t=e.theme;return e.backgroundColor||t.colors.cta}),";"),ar=function(e){var t=e.children,n=e.backgroundColor;return i.createElement(rr,{"aria-hidden":!0},i.createElement(ir,{backgroundColor:n},t))},or=function(e,t){return Object(r.c)("margin-",e?"right":"left",":4px;margin-top:3px;fill:currentColor;transform:","scaleY("+("up"===t?-1:1)+")",";")},cr=function(e){var t=e.direction,n=void 0===t?"down":t,i=Object(E.a)(e,["direction"]),a=Object(p.g)().isRtl;return Object(r.d)("svg",Object(f.a)({viewBox:"0 0 7 4",width:"7px",height:"4px",css:or(a,n)},i),Object(r.d)("path",{d:"M1.1,0.2C0.9,0,0.5,0,0.4,0.2s-0.2,0.5,0,0.7l2.8,2.8c0.2,0.2,0.5,0.2,0.7,0l2.8-2.8c0.2-0.2,0.2-0.5,0-0.7S6.2,0,6,0.2 L3.5,2.7L1.1,0.2z"}))},lr=n(20),sr=Object(h.z)("button",{target:"eentevd0"})("display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;background:none;border:none;margin-top:8px;font-size:12px;text-align:center;cursor:pointer;color:",(function(e){return function(e){return"light"===e.variant?Object(lr.j)(e.colors.cta)?Object(An.g)(.6,e.colors.cta):e.colors.cta:Object(An.c)(.2,e.colors.cta)}(e.theme)}),";"),ur=Object(h.z)("div",{target:"e1g195pu0"})("position:absolute;top:50%;bottom:0;left:0;right:0;pointer-events:none;background:",(function(e){return"light"===e.theme.variant?"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.9))":"linear-gradient(rgba(37, 37, 37, 0), rgba(37, 37, 37, 0.9))"}),";"),dr=Object(h.z)("div",{target:"e9s6ynt0"})("position:relative;overflow:hidden;height:auto;transition:max-height 300ms ",(function(e){return e.theme.transitions.easings.swift}),";");var mr=Object(h.z)("div",{target:"e1cdxu9o0"})({name:"11w4ikw",styles:"height:auto;padding:8px"}),br=Object(o.c)((function(e,t){var n=t.icon,r=e.getApplicationState("config").theme;return{showIcon:!!n&&"modern"!==r.name,rtl:e.getApplicationState("rtl"),localize:e.localize}}))((function(e){var t,n,a=e.icon,o=e.showIcon,l=e.children,s=e.collapsible,u=void 0!==s&&s,d=e.defaultCollapsed,m=void 0!==d&&d,b=e.collapsedHeight,p=void 0===b?100:b,h=e.collapseThreshold,v=void 0===h?20:h,j=e.rtl,O=e.localize,x=e.dataTestId,w=(void 0===x&&y.a,i.useRef(0)),E=i.useRef(!1),k=i.useRef(null),C=i.useRef(null),z=Object(ie.f)(),S=Object(ie.f)(),T=i.useState(!1),_=T[0],R=T[1],I=i.useState(u),A=I[0],F=I[1],M=Object(c.d)(g.w),P=Object(c.d)((function(){return u&&m?(e=p+"px",Object(r.c)("max-height:",e,";")):null;var e})),L=i.useCallback((function(e){C.current.style.maxHeight="number"===typeof e?e+"px":e}),[]),B=i.useCallback((function(){R(!_)}),[_]),q=i.useCallback((function(){_||L("none")}),[_,L]);return i.useEffect((function(){return function(){return cancelAnimationFrame(w.current)}}),[]),i.useEffect((function(){var e=k.current.offsetHeight,t=e>p&&e-p>v;F(t&&u),!E.current&&u&&R(t&&m),E.current=u}),[u,m,p,v]),i.useEffect((function(){A?(L(k.current.offsetHeight),_&&(cancelAnimationFrame(w.current),w.current=requestAnimationFrame((function(){return L(p)})))):L("none")}),[A,_,p,L]),Object(r.d)("div",{css:o&&(n="21px",Object(r.c)("padding-top:",n,";")),role:"row"},Object(r.d)(nr,Object(f.a)({rtl:j,role:"gridcell"},z),o?a:null,Object(r.d)(dr,{id:M,"aria-hidden":_,ref:C,onTransitionEnd:q,css:[o&&(t="12px",Object(r.c)("margin-top:",t,";")),P,""]},Object(r.d)(mr,{ref:k},l),_&&Object(r.d)(ur,null)),A&&Object(r.d)(sr,Object(f.a)({onClick:B,"aria-controls":M,"aria-expanded":!_},S),Object(r.d)("span",null,O(_?"show_more":"show_less")),Object(r.d)(cr,{direction:_?"down":"up","aria-hidden":!0}))))})),fr=n(30),pr=n(44),gr=n(200),hr=[].concat(Object.values(u.a),[u.k,"https://customer-mobile-app.ngrok.io/chat-widget-moment/"]),vr=function(e){var t=Object(gr.a)(e);return hr.some((function(e){return 0===t.lastIndexOf(e,0)}))},jr=function(e,t){var n=e.getView("Moment");return{available:Object(b.B)(e),disabled:n.show&&!vr(n.data.url),showMoment:function(){var n=Object(K.a)({source:t,"moment-title":u.h}),r=u.a.production+"?"+n;Object(x.G)(e,{url:r})}}};var Or=Object(h.z)("label",{target:"e1fikopb9"})("display:block;padding-bottom:",(function(e){return e.single?"0px":"12px"}),";color:",(function(e){return e.theme.colors.primaryTextColor}),";",(function(e){return e.theme.typography.basic}),";"),yr=Object(h.z)(Ge.p,{target:"e1fikopb8"})({name:"haah45",styles:"margin:0;padding:0;display:flex;width:40px;cursor:pointer;border:1px solid;align-items:center;justify-content:center"}),xr=Object(h.z)(yr,{target:"e1fikopb7"})("border-radius:",(function(e){return e.theme.borderRadius.none}),";",(function(e){var t,n=e.theme.isRtl?"Left":"Right";return Object(r.c)(((t={})["borderTop"+n+"Radius"]=6,t["borderBottom"+n+"Radius"]=6,t),"")})," color:",(function(e){var t=e.theme;return e.disabled?t.colors.disabledContrast:t.colors.ctaText}),";border:1px solid ",(function(e){var t=e.theme;return e.disabled?t.colors.secondaryTextColor:t.colors.cta}),";background-color:",(function(e){var t=e.theme;return e.disabled?t.colors.disabled:t.colors.cta}),";"),wr=Object(h.z)(yr,{target:"e1fikopb6"})("color:",(function(e){return e.theme.colors.primaryTextColor}),";border:none;background-color:transparent;"),Er=Object(h.z)("span",{target:"e1fikopb5"})("width:100%;align-items:center;padding:8px;margin:1px;color:",(function(e){return e.theme.colors.primaryTextColor}),";",(function(e){return e.theme.typography.input})," ",(function(e){var t=e.active,n=e.theme;return t&&Object(r.c)("color:","dark"===n.variant?Object(An.c)(.2,n.colors.cta):n.colors.cta,";")}),";"),kr=Object(h.z)("form",{target:"e1fikopb4"})({name:"nj1ofm",styles:"display:flex;position:relative;flex-direction:row"}),Cr=Object(h.z)("div",{target:"e1fikopb3"})("display:flex;justify-content:center;align-items:center;height:100%;position:absolute;padding:0 6px;color:",(function(e){return e.theme.colors.primaryTextColor}),";",(function(e){var t;return(t={})[e.theme.isRtl?"right":"left"]=0,t}),";"),zr=Object(h.z)("div",{target:"e1fikopb2"})("border-top:1px solid ",(function(e){return e.theme.colors.divider}),";margin:",(function(e){var t=e.theme;return t.spaces.space6+" "+t.spaces.space0}),";"),Sr=Object(h.z)("div",{target:"e1fikopb1"})({name:"192s9p1",styles:"display:flex;flex-direction:row;justify-content:center;align-items:center"}),Tr=function(e){var t,n=e?"Left":"Right",i=e?"Right":"Left";return Object(r.c)(((t={margin:0,minWidth:0})["padding"+i]=34,t["border"+n]="none",t["borderTop"+n+"Radius"]=0,t["borderBottom"+n+"Radius"]=0,t),"")},_r=Object(o.c)((function(e,t){var n=t.event,r=t.chatId,i=function(t){return Object(x.P)(e,{email:t}),new Promise((function(t){return e.once("customer_updated",t)}))};return function(t){var a=t.getSessionUser().email,o=t.getApplicationState(),c=o.rtl,l=o.license,s=t.getChat(r),u=s.properties,d=s.serverId,m=jr(t,"ask-for-email");if("ask_for_email"!==n.properties.formId)return{rtl:c,email:a,chatTransfer:m,license:l,serverChatId:d,submitEmail:function(e){return Object(fr.d)("ask_for_email_form_submitted",{reason:"agent_offline"}),i(e)},message:t.localize("email_prompt_first_time"),confirmation:t.localize("email_prompt_confirmation"),active:n.thread===u.lastThread,currentAgent:u.currentAgent};var b=n.properties.fields.find((function(e){return"information"===e.type})),f=t.getEvents(r).find((function(e){return e.id!==n.id&&e.thread===n.thread&&e.properties.formId===n.properties.formId}));if(f)return{rtl:c,chatTransfer:m,license:l,serverChatId:d,message:"",active:!1,email:f.properties.fields[0].answer,confirmation:b.label,currentAgent:u.currentAgent};var p=n.properties.fields.find((function(e){return"email"===e.type}));return p?{rtl:c,email:a,chatTransfer:m,license:l,serverChatId:d,active:!0,alwaysShowInput:!0,message:p.label,submitEmail:function(t){return Object(fr.d)("ask_for_email_form_submitted",{reason:"agent_inactivity_timeout"}),function(t){return Promise.all([i(t),e.requestUpdateEvent(r,n.id,{properties:{answers:{email:t}}})])}(t)},confirmation:b.label,hidden:n.thread!==u.lastThread,currentAgent:u.currentAgent}:{rtl:c,chatTransfer:m,license:l,serverChatId:d,email:"",active:!1,confirmation:"",message:b.label,currentAgent:u.currentAgent}}}))((function(e){var t=e.rtl,n=e.email,o=e.active,l=e.hidden,s=e.message,u=e.confirmation,d=e.alwaysShowInput,m=e.chatTransfer,b=e.submitEmail,p=(e.license,e.serverChatId,e.currentAgent),g=Object(a.useFrame)(),h=i.useRef(null),v=i.useRef(null),j=i.useState(!n),O=j[0],y=j[1],x=i.useState(n||""),w=x[0],E=x[1],k=n&&!d?u:s,C=Object(zt.a)({type:"email",autoComplete:"email",placeholder:"Email",value:w,onChange:E,label:k},v),z=C.inputProps,S=C.labelProps,T=i.useCallback((function(){y(!0),E(n||"")}),[n]),_=i.useCallback((function(){n&&y(!1)}),[n]);if(Object(c.n)(h,_,g),l)return null;if(s&&!u&&!n)return Object(r.d)(br,null,Object(r.d)(Or,{single:!0},Object(r.d)(Wt.a,{preserveLists:!0,template:s,root:{component:Gt.a}})));var R=d||(!n||o&&O),I=!w;Object(Se.f)();return Object(r.d)(br,null,Object(r.d)(Or,R&&S,Object(r.d)(Ut.a,{component:Vt.a},Object(r.d)(Wt.a,{preserveLists:!0,template:k,root:{component:Gt.a}}))),Object(r.d)(kr,{ref:h,onSubmit:function(e){e.preventDefault(),function(){if(p||n!==w)return b(w).then((function(){y(!1)}));y(!1)}()}},R?Object(r.d)(i.Fragment,null,Object(r.d)($e,Object(f.a)({},z,{css:Tr(t)})),Object(r.d)(Cr,null,Object(r.d)(Ge.t,{"aria-hidden":!0})),Object(r.d)(xr,{type:"submit",disabled:I,"aria-label":"Submit an email"},Object(r.d)(Ge.a,{"aria-hidden":!0}))):Object(r.d)(i.Fragment,null,Object(r.d)(Er,{ellipsis:!0,active:o},n),o&&Object(r.d)(wr,{onPress:T,"aria-label":"Edit an email"},Object(r.d)(Ge.i,{"aria-hidden":!0})))),m.available&&Object(r.d)(i.Fragment,null,Object(r.d)(zr,null),Object(r.d)(Or,null,"Prefer mobile notifications?"),Object(r.d)(pr.a,{variant:"default","aria-label":"Download app",disabled:m.disabled,onPress:function(){Object(fr.d)("chat_app_button_clicked",{ui_source:"ask_for_email"}),m.showMoment()},label:Object(r.d)(Sr,null,Object(r.d)(Ge.v,{"aria-hidden":!0}),Object(r.d)("span",null,"Get reply via mobile app"))})),!1)}));var Rr=Object(h.z)("div",{target:"efus62t2"})({name:"17pqesx",styles:"margin-bottom:8px;a{color:inherit;}"}),Ir=Object(h.z)("div",{target:"efus62t1"})("width:100%;margin-bottom:2px;font-size:14px;color:",(function(e){return e.theme.colors.secondaryTextColor}),";"),Ar=Object(h.z)("div",{target:"efus62t0"})("width:100%;font-size:14px;color:",(function(e){return e.theme.colors.primaryTextColor}),";"),Fr=function(e){var t=e.fields;return i.createElement("div",null,t.map((function(e,t){var n=e.label,r=e.answer;return i.createElement(Rr,{key:t},i.createElement(Ir,{textWrap:!0},i.createElement(Ut.a,{component:Vt.a},i.createElement(Wt.a,{preserveLists:!0,template:n,root:{component:Gt.a}}))),i.createElement(Ar,{textWrap:!0},i.createElement(Gt.a,null,"string"===typeof r?r:r.join(", "))))})))},Mr=n(39),Pr=function(e){function t(){return e.apply(this,arguments)||this}Object(Mr.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){var e=this.props,t=e.form,n=e.name,r=t.getFieldState(n);r&&r.value&&t.change(n,void 0)},n.render=function(){return this.props.children},t}(i.Component);var Lr=function(e){var t=e.when,n=e.children;return t?i.createElement(xe.b,{subscription:Rt},(function(n){var r=n.form;return n.values[t]?i.createElement(Pr,Object(f.a)({},e,{form:r})):null})):i.createElement(i.Fragment,null,n)},Br=Object(h.z)("p",{target:"ecj3oet0"})("margin:0;color:",(function(e){return e.theme.colors.primaryTextColor}),";a{color:inherit;}",(function(e){return e.theme.typography.basic}),";"),qr=function(e){var t=e.children;return i.createElement(Br,null,"string"===typeof t?i.createElement(Ut.a,{component:Vt.a},i.createElement(Wt.a,{template:t,root:{component:Gt.a}})):t)},Hr=n(622),Dr=n(636),Nr=n(629),Ur=function(e){var t=e.children,n=e.showRequiredMark,r=void 0!==n&&n,a=Object(E.a)(e,["children","showRequiredMark"]);return i.createElement(Le,Object(f.a)({isRequired:r},a),"string"===typeof t?i.createElement(Ut.a,{component:Vt.a},i.createElement(Wt.a,{preserveLists:!0,template:t,root:{component:Gt.a}})):t)};var Vr=Object(h.z)(h.q,{target:"egdebj42"})((function(e){var t=e.theme,n=t.spaceBase,r=t.typography,i=t.colors;return Object(f.a)({},r.basic,{color:i.primaryTextColor,margin:.5*n+"px 0"})}),";"),Wr=Object(h.z)(Ae,{target:"egdebj41"})("margin-bottom:0;",(function(e){var t=e.theme;return Object(r.c)("padding-",t.isRtl?"right":"left",":",t.spaceBase,"px;")}),";"),Gr=Object(h.z)("div",{target:"egdebj40"})({name:"juo0cq",styles:"width:16px;height:16px;flex-shrink:0;margin-top:2px"}),Yr=function(e){var t=e.inputId,n=e.label,i=e.children;return Object(r.d)(Vr,null,Object(r.d)(Gr,null,i),Object(r.d)(Wr,{htmlFor:t},Object(r.d)(Gt.a,null,n)))},Kr=function(e){var t=e.checkboxGroupState,n=e.label,a=e.inputId,o=e.defaultSelected,c=Object(E.a)(e,["checkboxGroupState","label","inputId","defaultSelected"]),l=i.useRef(null),s=Object(Nr.a)({defaultSelected:o}),u=Object(Dr.a)(Object(f.a)({},c,{id:a,children:[]}),s,l).inputProps;return Object(r.d)(Yr,{inputId:a,label:n},Object(r.d)(ft,Object(f.a)({ref:l},Object($.h)(u,{onChange:function(e){t.setSelectedValue(e.target.value,e.target.checked)}}))))},Zr=[],Qr=function(e){var t=e.options,n=e.label,i=e.name,a=e.required,o=Object(xe.c)(i,{defaultValue:Zr}),c=function(e){var t=e.value,n=e.onChange;return{setSelectedValue:function(e,r){var i=r?t.concat(e):t.filter((function(t){return t!==e}));n(i)}}}(o.input),l=Ft(o).errorMessageProps,s=Object(ie.h)({onBlurWithin:o.input.onBlur,onFocusWithin:o.input.onFocus}).focusWithinProps;return Object(r.d)(Dt,null,Object(r.d)(Re,s,Object(r.d)(Ur,{showRequiredMark:a},n),t.map((function(e,t){return Object(r.d)(ie.a,{preventFocusOnPress:!0,key:t},Object(r.d)(Kr,{key:t,inputId:i+"_"+t,label:e.label,value:e.value,checkboxGroupState:c,defaultSelected:Object(g.E)(e.value,o.input.value)}))})),Object(r.d)(ze,l)))},Xr=function(e){var t=i.useRef(null),n=e.label,r=e.required,a=Mt(t,Object(f.a)({},e,{autoComplete:"name"===e.name?e.name:"off"})),o=a.inputProps,c=a.labelProps,l=a.errorMessageProps;return i.createElement(Dt,null,i.createElement(Yt,Object(f.a)({showRequiredMark:r},c),n),i.createElement(et,Object(f.a)({},o,{errorMessageProps:l,ref:t})))},Jr=function(e){var t=i.useRef(null),n=e.label,r=e.required,a=Mt(t,Object(f.a)({},e,{type:"email",autoComplete:"email"})),o=a.inputProps,c=a.labelProps,l=a.errorMessageProps;return i.createElement(Dt,null,n&&i.createElement(Yt,Object(f.a)({showRequiredMark:r},c),n),i.createElement(et,Object(f.a)({},o,{ref:t,errorMessageProps:l})))},$r=n(151),ei=n(238),ti=function(e){var t=e.radioGroupState,n=e.label,r=e.inputId,a=Object(E.a)(e,["radioGroupState","label","inputId"]),o=Object($r.a)(Object(f.a)({},a,{id:r,children:[]}),t,null).inputProps;return i.createElement(Yr,{inputId:r,label:n},i.createElement(wt,o))},ni=function(e){var t=e.options,n=e.label,r=e.name,a=e.required,o=Object(xe.c)(r),c=Object(ei.a)(o.input),l=Ft(o),s=l.validationState,u=l.errorMessageProps,d=Object($r.b)({name:r,label:n,isRequired:a,validationState:s},c),m=d.radioGroupProps,b=d.labelProps;return i.createElement(Dt,null,i.createElement(Re,Object($.h)(m,{onBlur:o.input.onBlur,onFocus:o.input.onFocus}),i.createElement(Ur,Object(f.a)({showRequiredMark:a},b),n),t.map((function(e,t){return i.createElement(ie.a,{preventFocusOnPress:!0,key:t},i.createElement(ti,{key:t,inputId:r+"_"+t,label:e.label,value:e.value,radioGroupState:c}))})),i.createElement(ze,u)))},ri=Object(h.z)("option",{target:"e1t56ivc0"})("color:",(function(e){return e.primary?e.theme.colors.success:"inherit"}),";"),ii=function(e){var t=e.meta,n=e.name,r=e.label,a=e.value,o=e.localize,c=void 0!==t&&void 0!==t.online,l=Boolean(t&&t.online),s=" ("+o(l?"skill_status_online":"skill_status_offline")+")";return i.createElement(ri,{name:n,primary:c&&l,value:a},""+r+(c?s:""))},ai=function(e){var t=e.options,n=e.label,r=e.name,a=e.localize,o=e.required,c=Object(xe.c)(r);return i.createElement(Dt,null,i.createElement(Yt,{showRequiredMark:o,htmlFor:r},n),i.createElement(Xe,Object(f.a)({},c,{id:r,name:r}),i.createElement("option",{value:""},a("forms_choose")),t.map((function(e,t){return i.createElement(ii,{key:t,meta:e.meta,label:e.label,localize:a,name:r,value:e.value})}))))},oi=function(e){var t=e.label,n=e.name,r=e.required,a=void 0!==r&&r,o=Object(xe.c)(n),c=Object(ei.a)(o.input),l=Object($r.b)({name:n,label:t,isRequired:a},c),s=l.radioGroupProps,u=l.labelProps;return i.createElement(Dt,null,i.createElement(Re,Object($.h)(s,{onBlur:o.input.onBlur,onFocus:o.input.onFocus}),i.createElement(Ur,Object(f.a)({showRequiredMark:a},u),t),i.createElement(We,Object(f.a)({},o,{required:a}))))};var ci=Object(h.z)("div",{target:"e12liu9t1"})("margin:0;color:",(function(e){return e.theme.colors.primaryTextColor}),";a{color:inherit;}ul,ol{margin:8px 0;display:inline-block;white-space:normal;width:100%;padding-left:24px;}li{margin:4px 0;}",(function(e){return e.theme.typography.basic}),";"),li=Object(h.z)("h2",{target:"e12liu9t0"})({name:"143wq1t",styles:"font-size:14px;font-weight:normal;margin:0;a{text-decoration:underline;}"}),si={information:function(e){var t=e.value;return i.createElement(Dt,null,i.createElement(ci,{preserveLines:!0,textWrap:!0},i.createElement(li,null,i.createElement(Wt.a,{template:t,root:{component:Gt.a}}))))},text:Xr,textarea:Kt,email:Jr,rating:oi,radio:ni,checkbox:Qr,select:ai};var ui=function(e){var t=e.type;return si[t]},di=function(e,t){switch(t){case"prechat":return e("prechat_submit_label");case"ticket":return e("offline_form_submit_label");default:return e("submit")}},mi=Object(o.c)((function(e,t){var n=t.chatId,r=t.eventId,i=t.type,a=function(t){if("prechat"===i||"ticket"===i){var a=t.name,o=t.email,c=Object(g.f)({name:a,email:o});Object(g.G)(c)||e.updateUser(e.getSessionUserId(),c)}return e.requestUpdateEvent(n,r,{properties:{answers:t}})};return function(e){return{localize:e.localize,mobile:e.getApplicationState("mobile"),sendForm:a,sessionUser:e.getSessionUser()}}}))((function(e){var t=e.id,n=e.type,r=e.fields,a=e.mobile,o=e.localize,l=e.sendForm,s=e.sessionUser,u=Object(c.i)(t+":"+n),d=Object(c.d)((function(){var e=u.get(),t=function(e,t){var n=Object(g.Q)((function(e){return"string"===typeof e?Object(g.zb)(e):e}),Object(g.db)(["email","name"],e)),r=n.name,i=n.email;return r===t("client")?{email:i}:{email:i,name:r}}(s,o);return function(e,t,n){return e.map((function(e){var r=n?n[e.name]:null,i=t?t[e.name]:null,a=r||i;return a?Object(f.a)({},e,{defaultValue:a}):e})).filter((function(e){return"defaultValue"in e})).reduce((function(e,t){var n=t.name,r=t.defaultValue;return e[n]=r,e}),{})}(r,t,e)})),m=i.useRef({counter:0,lastValues:null,lastResult:null}),b=i.useCallback((function(e){m.current.counter++,m.current.lastValues=Object(f.a)({},e);var t=r.reduce((function(t,n){var r,i,a,c=n.required,l=n.name;return!c||void 0!==typeof(i=e[l])&&(Object(g.F)(i)?!Object(g.G)(i):Boolean(i))?"maxLength"in n&&"number"===typeof n.maxLength&&e[l]&&e[l].length>n.maxLength?Object(f.a)({},t,((a={})[l]="Cannot be longer than "+n.maxLength+" characters long.",a)):t:Object(f.a)({},t,((r={})[l]=o("survey_fill_in_required_fields"),r))}),{});return m.current.lastResult=Object(f.a)({},t),t}),[r,o]);return i.createElement(Ht,{id:t,mobile:a,initialValues:d,validate:b,onSubmit:function(e){var t=m.current,n=t.counter,r=t.lastValues,i=t.lastResult,a=b(e);return 0!==Object.keys(a).length&&Object(fr.c)("invalid_form_submit_4",null,Object(g.Q)((function(e){return JSON.stringify(e)}),{validationErrors:a,validationCounter:n,lastValidationValues:r,lastValidationResult:i,values:e})),l(e).then((function(){u.destroy()}),(function(e){var t;return e||((t={})[Hr.a]=o("lost_connection"),t)}))},submitLabel:di(o,n)},r.map((function(e,t){var n=ui(e);return i.createElement(h.q,{key:t},i.createElement(Lr,{name:e.name,when:e.dependOn},i.createElement(n,Object(f.a)({},e,{localize:o}))))})),i.createElement(xe.b,{onChange:function(e){var t=e.values;e.dirty&&u.set(t)},subscription:{values:!0,dirty:!0}}))})),bi=function(){var e=Object(p.g)();return i.createElement(ar,{backgroundColor:e.colors.cta},i.createElement(V.w,{color:e.colors.ctaText}))},fi=function(){var e=Object(p.g)();return i.createElement(ar,{backgroundColor:e.colors.cta},i.createElement(V.z,{color:e.colors.ctaText}))},pi=function(e){var t=e.answered,n=Object(p.g)();return i.createElement(ar,{backgroundColor:t?n.colors.success:n.colors.cta},t?i.createElement(V.C,{color:n.colors.successContrast}):i.createElement(V.q,{color:n.colors.ctaText}))},gi=function(e){var t=e.localize;return i.createElement(qr,null,t("offline_message_sent"))},hi=function(e){var t=e.chatId,n=e.id,r=e.setScrollTargetNode,a=e.form,l=Object(E.a)(e,["chatId","id","setScrollTargetNode","form"]),s=a.properties,u=s.formId,d=s.formType,m=s.fields,p=s.answered,g=m.filter((function(e){return e.answer&&e.label})),h=b.P(a),v=i.useRef(null);if(Object(c.o)((function(){!p&&v.current&&r&&r(v.current)})),h)return null;var j=function(e){switch(e){case"prechat":return bi;case"postchat":return fi;case"ticket":return pi;default:return null}}(d),O=function(e){return"ticket"===e?gi:Fr}(d);return i.createElement("div",Object(f.a)({ref:v},l),i.createElement(o.a,null,(function(e){return i.createElement(br,{defaultCollapsed:!0,collapsible:p,icon:j&&i.createElement(j,{answered:p})},p?i.createElement(O,{fields:g,localize:e}):i.createElement(mi,{key:d,chatId:t,eventId:n,id:u,type:d,fields:m}))})))};var vi={name:"w1atjl",styles:"width:100%;height:100%"},ji=Object(h.z)("div",{target:"eprpde50"})("flex-shrink:0;width:24px;height:24px;border-radius:",(function(e){return e.theme.borderRadius.md}),";overflow:hidden;"),Oi=function(){return Object(r.d)(Ge.r,null,Object(r.d)(Ge.z,null))},yi=function(e){var t=e.src;return t?Object(r.d)(ji,null,Object(r.d)(h.h,{src:t,css:vi},(function(e){switch(e.imageStatus){case"pending":return Object(r.d)(Ge.r,null);case"failed":return Object(r.d)(Oi,null);default:return null}}))):Object(r.d)(ji,null,Object(r.d)(Oi,null))};var xi=Object(h.z)("h2",{target:"e5gms8x0"})({name:"k9orpe",styles:"flex-grow:1;flex-basis:100%;font-weight:700;font-size:14px;margin:0 8px"}),wi=Object(h.z)(h.q,{target:"e1txcupw0"})("border-bottom:1px solid ",(function(e){return e.theme.colors.divider}),";padding:0 0.8em;height:48px;display:flex;align-items:center;");var Ei=Object(h.z)("form",{target:"ewg5kgh2"})({name:"4bgdod",styles:"display:block;position:relative"}),ki=Object(h.z)($e,{target:"ewg5kgh1"})({name:"1syokg1",styles:"height:50px;padding-right:calc(36px + (2 * 8px))"}),Ci=Object(h.z)(V.n,{target:"ewg5kgh0"})("width:36px;height:36px;position:absolute;right:8px;top:calc(50% - 18px);display:flex;justify-content:center;align-items:center;transition:background-color 100ms ease-in-out;",(function(e){var t=e.disabled,n=e.theme;return t?{backgroundColor:"transparent",color:n.colors.tertiaryTextColor}:{backgroundColor:Object(lr.j)(n.colors.cta)?Object(An.g)(.6,n.colors.cta):n.colors.cta,color:n.colors.ctaText}}),";"),zi=function(e){var t=e.label,n=e.titleId,r=e.descriptionId,a=e.onSubmit,o=e.disabled,c=i.useState(""),l=c[0],s=c[1],u=""===l||o,d=function(){u||a(l)};return i.createElement(Ei,{onSubmit:function(e){e.preventDefault(),d()}},i.createElement(ki,{type:"text",placeholder:t,disabled:o,value:l,"aria-labelledby":n,"aria-describedby":r,onChange:function(e){return s(null==e?void 0:e.target.value)}}),i.createElement(Ci,{disabled:u,"aria-label":t,onPress:d},i.createElement(V.x,{size:32})))};var Si=Object(h.z)(wi,{target:"e1j7xo754"})({name:"w8lbxe",styles:"border-bottom:0"}),Ti=Object(h.z)("div",{displayName:"BoosterContainer",target:"e1j7xo753"})("width:100%;display:flex;color:",(function(e){return e.theme.colors.primaryTextColor}),";max-width:",(function(e){return e.single?"270px":"240px"}),";"),_i=Object(h.z)("div",{target:"e1j7xo752"})({name:"gkg51",styles:"padding:0 0.8em 0.8em 0.8em"}),Ri=Object(h.z)(tr.a,{target:"e1j7xo751"})({name:"1j46qqh",styles:"flex-grow:1;max-width:100%;flex-basis:100%"}),Ii=Object(h.z)("p",{target:"e1j7xo750"})(En(),";margin:0;margin-bottom:1.2em;",(function(e){return e.theme.typography.basic}),";"),Ai=function(e){var t=e.id,n=e.icon,r=e.title,a=e.description,o=e.onUserAction,c=e.action,l=e.disabled,s=e.single,u=void 0!==s&&s,d=Object($.l)(),m=Object($.l)();return i.createElement(Ti,{single:u},i.createElement(Ri,{role:"gridcell"},i.createElement(Si,null,i.createElement(yi,{src:n}),i.createElement(xi,{id:d,ellipsis:!0,flexFill:!0},r)),i.createElement(_i,null,i.createElement(Ii,{id:m},i.createElement(Ut.a,{component:Vt.a},i.createElement(Wt.a,{preserveLists:!0,template:a,root:{component:Gt.a}}))),"button"===c.type&&i.createElement(pr.a,{ellipsis:!0,variant:"default",label:c.label,onPress:function(){return o(t)},disabled:l}),"search"===c.type&&i.createElement(zi,{titleId:d,label:c.label,descriptionId:m,onSubmit:function(e){return o(t,e)},disabled:l}))))};var Fi=Object(h.z)("div",{target:"e1ndqyd80"})({name:"cmvgoq",styles:"padding-top:0.8em;width:100%;display:flex;justify-content:center;flex-grow:1"}),Mi=Object(o.c)((function(e){var t=function(t){return e.emit("on_chat_booster_launched",t)},n=function(t){return e.emit("open_in_new_tab",t)};return function(e){return{emitBoosterLaunched:t,openInNewTab:n,currentMoment:e.getView("Moment")}}}))((function(e){var t=e.boosters,n=e.setScrollTargetNode,r=e.showMoment,a=e.emitBoosterLaunched,o=e.currentMoment,l=e.openInNewTab,s=i.useRef(null);Object(c.o)((function(){s.current&&n&&n(s.current)}));var u=function(e){var t,n=e.id;return o.show&&(null==(t=o.data)?void 0:t.boosterId)!==n},d=function(e,n){var i=t.find((function(t){return t.id===e}));if(i){var o=i.icon,c=i.title,s=i.action,u=s.url,d=s.type,m=s.webviewHeight,b=void 0===m?"full":m;a({id:e,title:c}),"support_ua"!==e?r({icon:o,title:c,boosterId:e,height:b,source:"chat_booster",url:Object(K.c)(u,Object(f.a)({},c&&{"moment-title":c},"search"===d&&n&&{query:String(n)}))}):l(u)}};return i.createElement(Fi,{ref:s,role:"row"},1===t.length?i.createElement(Ai,Object(f.a)({},t[0],{single:!0,onUserAction:d,disabled:u(t[0])})):i.createElement(h.e,null,t.map((function(e){return i.createElement(Ai,Object(f.a)({},e,{key:e.id,onUserAction:d,disabled:u(e)}))}))))}));var Pi=Object(h.z)("div",{target:"e1yucjc71"})({name:"12etndg",styles:"width:100%;display:flex;margin-bottom:16px;flex-direction:row;align-items:center;justify-content:center"}),Li=Object(h.z)("div",{target:"e1yucjc70"})("padding:4px 12px;",(function(e){var t=e.theme;return Object(r.c)(t.typography.basic,";color:",t.colors.subtleFeedbackContrast,";background-color:",t.colors.subtleFeedback,";border-radius:",t.borderRadius.sm,";")}),";"),Bi=function(){return i.createElement(o.a,null,(function(e){return i.createElement(Pi,null,i.createElement(Li,null,e("fill_form_to_send")))}))},qi=n(624),Hi=Object(h.z)("span",{target:"e1v5q6v41"})("margin:",(function(e){return e.theme.spaces.space1}),";padding-left:",(function(e){return e.theme.spaces.space1}),";width:1.5em;height:1.5em;text-align:center;vertical-align:middle;font-size:1.5em;line-height:1.5em;"),Di=Object(h.z)("div",{target:"e1v5q6v40"})("margin:",(function(e){return e.theme.spaces.space2}),";padding:0;outline:none;cursor:pointer;appearance:none;background:none;border:none;",(function(e){var t=e.highlighted,n=e.isSelected,i=e.theme,a="transparent";return t?a=i.colors.cta:n&&(a=i.colors.pressedElement),Object(r.c)(V.o,"{background-color:",a,";}")}),";"),Ni=function(e){var t=e.onPress,n=e.isSelected,r=e.emoji,a=e.itemList,o=e.actionLabel,c=void 0===o?"insert":o,l=i.useRef(null),s=a.useItem,u=a.clearHighlightedItem,d=s({ref:l,text:r,value:r}),m=d.id,b=d.highlight,f=(0,d.useHighlighted)();return i.createElement(Di,{id:m,ref:l,highlighted:f,isSelected:n,onClick:t,onMouseOver:b,onMouseOut:u,"aria-label":c+" "+r},i.createElement(V.o,null,i.createElement(Hi,{"aria-hidden":!0},r)))};function Ui(){var e=Object(k.a)(["\n\t0% {\n\t\tscale: 1;\n\t}\n\t50% {\n\t\tscale: ",";\n\t}\n\t100% {\n\t\tscale: 1;\n\t}\n"]);return Ui=function(){return e},e}var Vi={name:"15cfo8l",styles:"font-size:1rem;width:24px;height:24px"},Wi=function(e){return void 0===e&&(e=2),Object(r.e)(Ui(),e)};var Gi={name:"dgw6hz",styles:"left:-16px;bottom:-10px"},Yi={name:"1qhj2dg",styles:"left:4px;bottom:50%"},Ki=Object(h.z)(V.n,{target:"e83qc9n0"})((function(e){var t=e.isVisible,n=e.isAnimating,i=e.messageHeight,a=e.theme,o=e.isBottom;return Object(r.c)(Vi,";box-shadow:",a.boxShadow.xs,";background-color:",function(e){var t=e.isVisible,n=e.theme;return t?"light"===n.variant?Object(An.h)(.95,n.colors.cta):Object(An.d)(.2,n.colors.cta,n.colors.grayscale[900]):n.colors.surface}({isVisible:t,theme:a}),";border-radius:",a.borderRadius.md,";opacity:",t?1:0,";transform:",function(e){var t=e.isVisible,n=e.isBottom,r=e.isModern,i=e.messageHeight;return t?"translateY("+(r?"50%":"0")+")":n?"translateY("+(r?8:16)+"px) scale(1.3)":"translateY(-"+(i+8)+"px) scale(2.5)"}({isVisible:t,isBottom:o,isModern:"modern"===a.name,messageHeight:i}),";transition:opacity 0.2s ",a.transitions.easings.swift,",transform 0.4s ",a.transitions.easings.swift,",background-color 0.4s ",a.transitions.easings.swift,";will-change:transform,opacity,background-color;position:absolute;","modern"===a.name?Yi:Gi," ",n&&Object(r.c)("&:first-child{animation:",Wi(1.8)," ",a.transitions.easings.spring," 1s;}"),";")}),";");var Zi={name:"1rvwycs",styles:"bottom:-10px"},Qi={name:"1hpnkv2",styles:"left:4px;bottom:50%;transform:translateY(50%)"},Xi=Object(h.z)("div",{target:"e7wqyqi0"})(Vi," position:absolute;border-radius:",(function(e){return e.theme.borderRadius.round}),";box-shadow:",(function(e){return e.theme.boxShadow.xs}),";display:flex;align-items:center;justify-content:center;",(function(e){var t=e.isOwn,n=e.isHidden,i=e.isAnimating,a=e.messageHeight,o=e.theme;return t?function(e){var t=e.isHidden,n=e.isAnimating,i=e.messageHeight,a=e.theme;return Object(r.c)("right:-12px;background-color:",a.colors.visitorMessageBackground,";opacity:",t?0:1,";transform:translateY(",function(e){var t=e.isModern,n=e.isHidden,r=e.messageHeight;return n?"-"+(t?8:r-16)+"px":t?"50%":"-3px"}({isModern:"modern"===a.name,isHidden:t,messageHeight:i}),");transition:transform 0.2s ",a.transitions.easings.swift," 1s,opacity 0.2s ",a.transitions.easings.swift," 0.2s;will-change:opacity,transform;",n&&Object(r.c)("&:first-child{animation:",Wi(1.5)," ",a.transitions.easings.swift," 1s;}"),";")}({theme:o,isAnimating:i,messageHeight:a,isHidden:n}):Object(r.c)("left:-16px;opacity:",n?0:1,";background-color:",o.colors.surface,";")})," ",(function(e){return"modern"===e.theme.name?Qi:Zi}),";"),Ji=Object(h.z)("div",{target:"e1f3ob3i0"})("position:absolute;text-align:center;z-index:3;transform:translateY(\n\t\t",(function(e){return function(e){var t=e.isBottom,n=e.messageHeight,r=e.hasTranslation;return"calc("+(t?"":"-")+"100% - "+(t?48:n+(r?19:0))+"px)"}({isBottom:e.isBottom,messageHeight:e.messageHeight,hasTranslation:e.hasTranslation})}),"\n\t);background-color:",(function(e){return e.theme.colors.floatSurface}),";box-shadow:",(function(e){return e.theme.boxShadow.floating}),";padding:4px;border-radius:",(function(e){return e.theme.borderRadius.lg}),";overflow:hidden;");var $i=["\ud83d\udc4d","\ud83d\udc4e","\u2764\ufe0f","\ud83d\ude15","\u2705","\u274c"],ea=Object(h.z)("ul",{target:"e1dw9wle2"})({name:"cezn9w",styles:"display:flex;list-style-type:none;padding:0;margin:0;&:focus{outline:none;}"}),ta=Object(h.z)("li",{target:"e1dw9wle1"})({name:"1usv3rz",styles:"background:transparent;border:0"}),na=Object(h.z)("div",{target:"e1dw9wle0"})("position:relative;margin-left:4px;",(function(e){var t=e.theme,n=e.hasTranslation;return"modern"!==t.name?Object(r.c)("margin-bottom:",n?27:8,"px;min-width:32px;min-height:32px;"):Object(r.c)("margin-bottom:",n?16:0,"px;min-width:24px;min-height:24px;")}),";"),ra=function(e){var t=e.onReactionPicked,n=e.currentReaction,r=e.reactionWrapperRef,o=e.isActive,l=e.isVisible,u=e.isOwn,d=e.isForceHidden,m=e.scrollToBottom,b=e.hasTranslation,f=i.useState(!1),g=f[0],h=f[1],j=Object(c.z)(!1),O=j[0],y=j[1],x=Object(c.s)(n),E=i.useRef(null),k=Object(a.useFrame)(),C=function(e,t){if(!t.current||!t.current.hasChildNodes)return{messageWidth:0,messageHeight:0};var n=e.getComputedStyle(t.current.children[0]),r=n.width,i=n.height,a=function(e){return parseInt(e.split("px")[0])};return{messageWidth:a(r),messageHeight:a(i)}}(k.window,r),z=C.messageHeight,S=C.messageWidth,T=l&&!g&&!n,_=z>200,R="modern"===Object(p.g)().name;Object(c.n)(E,(function(){return P()}),k);var I=function(e){t(e),P()},A=Object(qi.a)({onSelect:I}),F=A.useHighlightedItemId(),M=function(){Object(ie.c)()?A.setHighlightedItem(0):A.clearHighlightedItem(),h(!0),_&&m&&m({duration:0})},P=i.useCallback((function(){h(!1),A.clearHighlightedItem()}),[A]);return i.useEffect((function(){g&&d&&P()}),[d,g,P]),i.useEffect((function(){u&&n&&x!==n&&y()}),[u,x,n,y]),i.createElement(i.Fragment,null,i.createElement(v.a,null,i.createElement(w.c,{isVisible:g,horizontalTravel:S-32},i.createElement(Ji,{ref:E,messageHeight:z,messageWidth:S,hasTranslation:b,isBottom:_},i.createElement(s.a,{autoFocus:!0,contain:!0,restoreFocus:!0},i.createElement(ea,{role:"menu",tabIndex:0,onKeyDown:function(e){switch(e.stopPropagation(),e.preventDefault(),e.key){case"ArrowRight":return void A.moveHighlightedItem(1);case"ArrowLeft":return void A.moveHighlightedItem(-1);case"Home":return void A.setHighlightedItem(0);case"End":return void A.setHighlightedItem(A.items.current.length-1);case" ":case"Enter":return void A.selectHighlightedItem();case"Escape":case"Tab":return void P();default:return void A.highlightItemByString(e)}},"aria-activedescendant":F},$i.map((function(e){return i.createElement(ta,{role:"menuitem",key:e},i.createElement(Ni,{onPress:function(t){t.stopPropagation(),I(e)},emoji:e,itemList:A,isSelected:e===n,actionLabel:"react with"}))}))))))),i.createElement(na,{hasTranslation:b},o?i.createElement(i.Fragment,null,T?i.createElement(V.n,{"aria-label":"add message reaction",onPress:M},R?i.createElement(V.i,null):i.createElement(V.h,null)):i.createElement(Ki,{isAnimating:O,onAnimationEnd:y,isVisible:!g&&!!n,onPress:M,messageHeight:z,isBottom:_,"aria-label":"change message reaction, current reaction: "+n},i.createElement("span",null,n))):i.createElement(Xi,{isHidden:!n,isOwn:u,onAnimationEnd:y,isAnimating:O,messageHeight:z,"aria-label":"message reaction: "+(n||n)},i.createElement("span",null,n))))},ia=Object(h.z)("div",{target:"e5gqefa1"})("display:flex;align-items:flex-end;flex-direction:",(function(e){var t=e.isOwn,n=e.theme;return t&&"modern"!==n.name?"row-reverse":"row"}),";overflow:visible;max-width:100%;"),aa=Object(h.z)("div",{target:"e5gqefa0"})("display:flex;flex-direction:column;margin-bottom:",(function(e){var t=e.withMarginBottom,n=e.theme;return t&&"modern"!==n.name?6:0}),"px;transition:margin-bottom 200ms ",(function(e){return e.theme.transitions.easings.swift}),";transition-delay:300ms;will-change:margin-bottom;max-width:100%;"),oa=Object(o.c)((function(e,t){var n=t.chatId,r=t.id,i=t.showMoment,a=function(t){b.pb(e,t)||x.m(e)};return function(e,t){var n;return function(r){var i=e(r);if(void 0===i)return n;var a=t(r,i);return n=a,a}}((function(e){return e.getEvent(n,r)}),(function(e,t){var o,c=e.getChat(n),l=c.properties.lastThread===t.thread,s="form"===t.type&&!t.properties.answered&&b.S(e,n);return{event:t,chatId:n,showMoment:i,handleGreetingDisplayed:a,showFillFormAnnouncement:s,localize:e.localize,isChatActive:c.active,author:e.getUser(t.author),mobile:e.getApplicationState("mobile"),enforceDeliveryStatusDisplay:r===Object(g.N)(Object(g.N)(e.getTimeline(n)).events).id&&t.own,isPartOfLastThread:l,deliveryStatus:b.f(e,n,r),rtl:e.getApplicationState("rtl"),addReaction:function(t){return e.emit("add_message_reaction",{eventId:r,reaction:t})},isReconnecting:b.nb(e),isLastAgentEvent:(null==(o=b.j(e))?void 0:o.id)===t.id}}))}))((function(e){var t=e.id,n=e.mobile,a=e.author,o=e.event,l=e.chatId,s=e.localize,u=e.radiusType,d=e.showMoment,m=e.scrollTarget,b=e.deliveryStatus,p=e.enforceDeliveryStatusDisplay,j=e.listItemHandlers,O=e.showMetaOnClick,y=e.setScrollTargetNode,x=e.handleGreetingDisplayed,k=e.showFillFormAnnouncement,C=e.rtl,z=e.addReaction,S=e.isChatActive,T=e.isPartOfLastThread,_=e.isReconnecting,R=e.isLastAgentEvent,I=e.scrollToBottom,A=i.useRef(null),F=i.useState(o.properties.reaction||""),M=F[0],P=F[1],L=i.useState(!o.own&&!o.seen),B=L[0],q=L[1],H=Object(lr.d)("message_reactions"),D=!o.own&&!!o.serverId&&!!o.thread&&S&&T&&!_,N=Object(ie.i)({}),U=N.isHovered,V=N.hoverProps,W=Object(c.z)(!1),G=W[0],Y=W[1],K=Object(c.j)({}),Z=K.isFocused,Q=Object(E.a)(K,["isFocused"]);i.useEffect((function(){P(o.properties.reaction)}),[o.properties.reaction]);var X,J="system"===a.type;if("system_message"===o.type){var $=o.properties,ee=$.systemMessageType,te=$.textVariables,ne=$.defaultText;return i.createElement(er,null,ee?s(ee,te):ne)}return"email_prompt"===o.type||"ask_for_email"===o.properties.formId?o.properties.answered?null:i.createElement(_r,{event:Object(f.a)({},o,{thread:o.thread}),chatId:l}):"form"===o.type?i.createElement(i.Fragment,null,k&&i.createElement(Bi,null),i.createElement(r.a,null,(function(e){var t=e.theme;return i.createElement(v.a,{appear:k,component:null},i.createElement(w.a,{delay:100},i.createElement(hi,{id:o.id,chatId:l,form:o,theme:t,setScrollTargetNode:"form"===m?y:void 0})))}))):"boosters"===o.type?i.createElement(Mi,{boosters:o.properties.boosters,showMoment:d,setScrollTargetNode:"boosters"===m?y:void 0}):i.createElement(h.i,Object(f.a)({date:J?"":(X=o.timestamp,new Date(X).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),deliveryStatus:b,enforceDeliveryStatusDisplay:p,failed:o.failed,isOwn:o.own,onSeen:function(){q(!1),j.markAsSeen(t)},seen:!B,sending:!o.delivered&&!o.failed,showMetaOnClick:!J&&O,system:J,ref:function(e){e&&"draft"===m&&y&&y(e),e&&A.current&&"carousel"===o.type&&(A.current.style.maxWidth=getComputedStyle(e).width)},authorName:i.createElement(Gt.a,null,o.own&&!a.name?s("client"):a.name)},V,Q),i.createElement(ia,{onClick:Y,isOwn:o.own},i.createElement(aa,{withMarginBottom:!!M&&!o.own&&!o.properties.translation,ref:A},i.createElement(Jn.a,{event:o,mobile:n,radiusType:u,disabledButtons:function(){var e;if(!(null==(e=o.properties.card)?void 0:e.buttons))return[];var t=S&&T;if(o.properties.invitation)return o.thread?o.properties.card.buttons.reduce((function(e,n,r){return"cancel"===n.type&&e.push(r),Object(g.E)(n.type,["webview","message"])&&!t&&e.push(r),e}),[]):[];return o.properties.card.buttons.reduce((function(e,n,r){return function(e){switch(e.type){case"webview":case"message":return!t;default:return!1}}(n)&&e.push(r),e}),[])}(),onActionButtonClick:j.handleActionButtonClick,rtl:C,onShow:o.properties.invitation?function(){return x(o)}:void 0})),H?i.createElement(ra,{onReactionPicked:function(e){var t=e===o.properties.reaction?"":e;P(t),z(t)},currentReaction:M,reactionWrapperRef:A,isActive:D,isOwn:o.own,isVisible:R||Z||U||n&&G,isForceHidden:_,scrollToBottom:R?I:void 0,hasTranslation:!!o.properties.translation}):null))})),ca=n(84),la=Object(h.z)("label",{target:"e1e9gyrb2"})("color:",(function(e){return e.theme.colors.textPrimaryColor}),";cursor:",(function(e){return e.disabled?"not-allowed":"pointer"}),";display:flex;align-items:center;"),sa=Object(h.z)("span",{target:"e1e9gyrb1"})("display:flex;align-items:center;justify-content:center;&:focus{outline-style:",(function(e){return e.focusVisible?"auto":"none"}),";}"),ua=Object(h.z)("span",{target:"e1e9gyrb0"})("display:inline-block;",(function(e){var t=e.theme;return Object(r.c)("margin-",t.isRtl?"right":"left",":5px;")}),";"),da=function(e){var t=e.disabled,n=e.icon,r=e.label,a=e.fileInputRef,o=Object(p.g)(),l=Object(c.l)((function(){return a.click()})),s=Object(ie.f)(),u=function(e){return e||V.b}(n);return i.createElement(la,{flexFit:!0,htmlFor:"fileupload",disabled:t},i.createElement(sa,Object(f.a)({role:"button","aria-label":"Send a file",tabIndex:"0"},l,s),i.createElement(u,{color:t?o.colors.tertiaryTextColor:"currentColor","aria-hidden":!0}),r?i.createElement(ua,null,r):null))};var ma=Object(g.d)(["\ud83d\ude42","\ud83d\ude01","\ud83d\ude02","\ud83d\ude0a","\ud83d\ude0d","\ud83d\ude10","\ud83d\ude15","\ud83d\ude12","\ud83d\ude22","\ud83d\ude2d","\ud83c\udf89","\u2764\ufe0f","\ud83d\udc4c","\ud83d\udc4d","\ud83d\ude4f"],5),ba=Object(h.z)("div",{target:"e1pkkif43"})({name:"14y8lnv",styles:"margin:0;padding:0;outline:none"}),fa=Object(h.z)(V.n,{target:"e1pkkif42"})("display:flex;justify-content:center;align-items:center;color:",(function(e){var t=e.theme;return e.disabled?t.colors.tertiaryTextColor:t.colors.primaryTextColor}),";will-change:background-color;background-color:",(function(e){var t=e.theme;return e.active?t.colors.pressedElement:"transparent"}),";transition:background-color 150ms ease-in-out;opacity:1;"),pa=Object(h.z)("div",{target:"e1pkkif41"})({name:"frpnj0",styles:"display:flex;flex-direction:row;align-items:center;justify-content:flex-start"}),ga=Object(h.z)("div",{target:"e1pkkif40"})({name:"1uuyw89",styles:"display:flex;align-items:center;justify-content:center;flex-shrink:0;flex-grow:0"}),ha=function(e){var t=e.onEmojiPicked,n=e.disabled,r=i.useRef(null),a=i.useRef(null),o=i.useRef({open:g.W,close:g.W}),c=i.useState(!1),l=c[0],s=c[1],u=function(e){t(e),o.current.close(),Math.random()<.1&&Object(fr.d)("Emoji_inserted_from_picker",{emoji:e})},d=Object(qi.a)({onSelect:u}),m=d.useHighlightedItemId();i.useEffect((function(){n&&l&&o.current.close()}),[n,l]);return 0===ma.length||Object(Se.f)()?null:i.createElement(cn,{animated:!0,placement:"top",trigger:"press",kind:"float",controlsRef:o,onOpenChange:function(e,t){var n;if(Object(ie.c)()?d.setHighlightedItem(0):d.clearHighlightedItem(),e)null==(n=a.current)||n.focus(),Math.random()<.01&&Object(fr.d)("emoji_picker_opened",{});else if(!t){var i;null==(i=r.current)||i.focus()}s(e)},description:i.createElement(ba,{tabIndex:0,role:"grid","aria-label":"emoji picker",ref:a,"aria-activedescendant":m,onKeyDown:function(e){switch(e.key){case"ArrowUp":d.highlightedIndex.current-5>=0&&d.moveHighlightedItem(-5);break;case"ArrowDown":d.highlightedIndex.current+5<d.items.current.length&&d.moveHighlightedItem(5);break;case"ArrowLeft":d.highlightedIndex.current-1>=0&&d.moveHighlightedItem(-1);break;case"ArrowRight":d.highlightedIndex.current+1<d.items.current.length&&d.moveHighlightedItem(1);break;case"Home":d.setHighlightedItem(0);break;case"End":d.setHighlightedItem(d.items.current.length-1);break;case" ":case"Enter":e.preventDefault(),d.selectHighlightedItem();break;case"Tab":return void e.preventDefault();default:return void d.highlightItemByString(e)}e.preventDefault()}},ma.map((function(e,t){return i.createElement(pa,{key:t,role:"row"},e.map((function(e,t){return i.createElement(ga,{key:t,role:"gridcell"},i.createElement(Ni,{emoji:e,itemList:d,onPress:function(){return u(e)}}))})))})))},i.createElement(fa,{"aria-label":"open emoji picker",ref:r,active:l,onPress:function(){l&&o.current.close()},disabled:n},i.createElement(V.j,null)))},va=n(12),ja=i.createContext({}),Oa=Object(h.z)("ul",{target:"e1ixnb8m0"})("list-style-type:none;position:absolute;z-index:100;background:",(function(e){return e.theme.colors.floatSurface}),";box-shadow:",(function(e){return e.theme.boxShadow.md}),";border-radius:",(function(e){return e.theme.borderRadius.lg}),";margin:0;margin-top:3.2em;margin-left:0.8em;padding:0;min-width:180px;overflow:hidden;&:focus{outline:none;}&>:last-child{border-bottom:0;}"),ya=function(e){var t=e.highlightedIndex,n=e.items,r=t.current;return!(null===r||r<0)&&"true"!==n.current[r].ref.current.getAttribute("aria-disabled")};var xa=function(e){var t=e.children,n=e.onClose,r=e.menuButtonRef,o=e.onSelect,l=Object(E.a)(e,["children","onClose","menuButtonRef","onSelect"]),s=Object(a.useFrame)(),u=i.useRef(null),d=Object(qi.a)({onSelect:o}),m=d.useHighlightedItemId();return Object(c.o)((function(){u.current.focus()})),Object(c.n)(u,n,s),i.createElement(re,null,i.createElement(ja.Provider,{value:d},i.createElement(Oa,Object(f.a)({onMouseOut:d.clearHighlightedItem,tabIndex:-1,role:"menu",ref:u,"aria-activedescendant":m,onKeyDown:function(e){switch(e.preventDefault(),e.key){case"ArrowUp":return void d.moveHighlightedItem(-1);case"ArrowDown":return void d.moveHighlightedItem(1);case"Home":return void d.setHighlightedItem(0);case"End":return void d.setHighlightedItem(d.items.current.length-1);case" ":if(!ya(d))return;return void d.selectHighlightedItem();case"Enter":if(!ya(d))return;return d.selectHighlightedItem(),n(),void r.current.focus();case"Tab":return n(),e.shiftKey?void r.current.focus():void Object(va.f)(r.current).focus();case"Escape":return n(),void r.current.focus();default:return void d.highlightItemByString(e)}}},l),t)))},wa=Object(h.z)("li",{target:"ezmrzej0"})("background:transparent;font-family:inherit;font-size:14px;border:0;display:flex;align-items:center;padding:1.3em;width:100%;cursor:pointer;",(function(e){var t=e.theme,n=e.highlighted;return Object(f.a)({borderBottom:"1px solid "+t.colors.divider,color:t.colors.primaryTextColor},n&&{color:""+t.colors.ctaText,backgroundColor:""+t.colors.cta})})," &[aria-disabled='true']{pointer-events:none;color:",(function(e){return e.theme.colors.disabledContrast}),";background-color:",(function(e){return e.theme.colors.disabled}),";}"),Ea=function(e){var t=e.disabled,n=e.text,r=e.value,a=Object(E.a)(e,["disabled","text","value"]),o=i.useRef(null),c=i.useContext(ja),l=c.clearHighlightedItem,s=(0,c.useItem)({ref:o,text:n,value:r}),u=s.id,d=s.highlight,m=s.select,b=(0,s.useHighlighted)();return i.createElement(wa,Object(f.a)({role:"menuitem",id:u,ref:o,highlighted:b,onMouseOver:d,onMouseOut:l,onClick:function(e){1!==e.nativeEvent.which||t||m()}},t&&{"aria-disabled":!0},a))},ka=Ea,Ca=function(e){var t=e.checked,n=Object(E.a)(e,["checked"]);return i.createElement(Ea,Object(f.a)({role:"menuitemcheckbox","aria-checked":t},n))};var za=function(e){return Object(r.c)("padding:0;color:",e.colors.tertiaryTextColor,";border-radius:",e.borderRadius.md,";transition:background-color 100ms ease-in-out;margin-left:",e.spaces.space1,";opacity:1;&:disabled{svg *{fill:",e.colors.tertiaryTextColor,";}}svg *{transition:fill 100ms ease-in-out;will-change:fill;}")},Sa=Object(h.z)("div",{target:"ex4ls1q3"})("position:absolute;top:0;height:100%;display:flex;align-items:center;",(function(e){return e.position+": "+(e.dense?"0.75em":"1em")}),";color:",(function(e){return e.theme.colors.primaryTextColor}),";"),Ta=Object(h.z)(h.q,{target:"ex4ls1q2"})({name:"bjn8wh",styles:"position:relative"}),_a={name:"1oaeivz",styles:"margin-right:8px"},Ra={name:"1qkltea",styles:"margin-left:5px"},Ia=Object(h.z)(V.n,{target:"ex4ls1q1"})("display:flex;color:",(function(e){var t=e.theme;return e.disabled?t.colors.tertiaryTextColor:t.colors.primaryTextColor}),";will-change:background-color;background-color:",(function(e){var t=e.theme;return e.active?t.colors.pressedElement:"transparent"}),";transition:background-color 150ms ease-in-out;opacity:1;svg{display:block;}"),Aa=Object(h.z)("input",{target:"ex4ls1q0"})({name:"eivff4",styles:"display:none"}),Fa={name:"zefn70",styles:"bottom:4.8em;right:2em"};var Ma=Object(o.c)((function(e,t){var n=t.chatId,r=function(t,n){x.e(e,t,n)},i=function(t){x.B(e,n,t)},a=function(t){x.E(e,n,t)},o=function(){x.G(e,Object(f.a)({source:"message_box"},b.y(e)))};return function(e){return{sendFile:r,sendMessage:i,setMessageDraft:a,openVideoCallMoment:o,reconnecting:b.nb(e),allowInput:b.fb(e),allowFileUpload:b.eb(e),isFileUploadPossible:b.N(e),mobile:e.getApplicationState("mobile"),applicationFocused:e.getApplicationState("applicationFocused"),videoCallButtonState:b.x(e),rtl:e.getApplicationState("rtl"),showAlternativeUploadOption:b.hb(e)&&!e.getApplicationState("mobile")&&"code"===b.a(e)&&b.eb(e)}}}))((function(e){var t=e.allowFileUpload,n=e.isFileUploadPossible,l=e.mobile,s=e.onHeightChange,u=e.onSendMessage,d=e.allowInput,m=e.reconnecting,b=e.sendFile,p=e.sendMessage,v=e.setMessageDraft,j=(e.applicationFocused,e.onFocusChange),O=e.openVideoCallMoment,y=e.videoCallButtonState,x=e.rtl,w=e.showAlternativeUploadOption,k=Object(E.a)(e,["allowFileUpload","isFileUploadPossible","mobile","onHeightChange","onSendMessage","allowInput","reconnecting","sendFile","sendMessage","setMessageDraft","applicationFocused","onFocusChange","openVideoCallMoment","videoCallButtonState","rtl","showAlternativeUploadOption"]),C=i.useRef(null),z=i.useRef(null),S=i.useRef([0,0]),T=i.useRef(null),_=Object(c.i)("text-composer"),R=_.get(),I=i.useState(R||""),A=I[0],F=I[1],M=i.useState(!1),P=M[0],L=M[1],B=i.useState(!1),q=B[0],H=B[1],D=i.useMemo((function(){return Object(g.yb)(1500,v)}),[v]),N=Object(c.e)(m),U=Object(fe.b)(),W=x?"rtl":"ltr",G=Object(a.useFrame)().document,Y=i.useCallback((function(e,t){return e.forEach((function(e){return b(e,t)}))}),[b]),K=i.useCallback((function(e){switch(L(!1),e){case"screenshot":$(),Object(fr.d)("snapshot_selected",{});break;case"file":T.current.click()}}),[L,$]),Z=i.useCallback((function(){H(!0),j&&j(!0)}),[j]),Q=i.useCallback((function(){H(!1),j&&j(!1)}),[j]),X=i.useCallback((function(e){F(""),p(e),D.cancel(),v(null),_.clear(),u&&u()}),[p,u,D,v,_]),J=i.useCallback((function(e){Y(Object(g.vb)(e.target.files))}),[Y]),$=i.useCallback((function(){Object(lr.a)().then((function(e){Y([e],"screenshot")})).catch((function(e){Object(fr.d)("snapshot_cancel",{reason:e.message})}))}),[Y]);i.useEffect((function(){var e=C.current,t=function(){S.current=[e.selectionStart,e.selectionEnd]};return e.addEventListener("blur",t),function(){return e.removeEventListener("blur",t)}}),[]),i.useEffect((function(){var e=function(e){var t=Array.from(e.clipboardData.items);if(!t.some((function(e){return"text/plain"===e.type}))){var n=t.reduce((function(e,t){var n=t.getAsFile();return n&&e.push(n),e}),[]);n.length&&(e.preventDefault(),Y(n,"clipboard"))}};return t&&q&&n&&G.addEventListener("paste",e),function(){return G.removeEventListener("paste",e)}}),[t,q,n,G,b,Y]);var ee=function(e){var t=S.current,n=t[0],r=t[1];te.a.flushSync((function(){F((function(t){var i=t.slice(0,n)+e+t.slice(r,t.length);return _.set(i),i}))})),te.a.flushSync((function(){C.current.focus();var t=n+e.length;C.current.setSelectionRange(t,t)}))};return Object(r.d)(o.a,null,(function(e){return Object(r.d)(h.t,Object(f.a)({},k,{value:A,active:d,disabled:m&&!N,mobile:l,defaultValue:R,onSend:X,onValueChange:function(e){F(e),_.set(e),D(e)}}),Object(r.d)(Ta,{verticalAlign:"center"},y.visible&&Object(r.d)(Sa,{position:"left",dense:y.visible},Object(r.d)(cn,{placement:"top",description:"Start a video call"},Object(r.d)(V.n,{onPress:O,disabled:y.disabled,css:function(e){return{opacity:1,color:y.disabled?e.colors.tertiaryTextColor:e.colors.primaryTextColor}},"aria-label":"Start a video call"},Object(r.d)(V.G,null)))),Object(r.d)(h.u,{ref:C,autoFocus:Object(Lt.c)(),css:function(e){return function(e){var t=e.disabled,n=e.leftIcons,i=e.mobile,a=e.theme;return Object(r.c)("font-family:inherit;padding:1.25em ",a.isRtl&&!i&&"modern"!==a.name?"8.25em":"7.75em"," 1.25em ",n?"3.75em":"1em",";overflow-y:auto;margin-top:0;transition:box-shadow 0.1s ease-in-out;color:",t?a.colors.tertiaryTextColor:a.colors.primaryTextColor,";background-color:",t?a.colors.disabled:Object(An.g)(.012,a.colors.surface),";&:focus{background-color:",a.colors.surface,";}&:disabled{cursor:not-allowed;}")}({theme:e,mobile:l,disabled:m&&!N,leftIcons:y.visible})},disabled:m&&!N,flexFill:!0,minRows:1,onClick:function(){q||C.current.focus()},onBlur:Q,onFocus:Z,onHeightChange:s,placeholder:e("embedded_textarea_placeholder"),"aria-label":e("embedded_textarea_placeholder"),enterKeyHint:"send",dir:A?"auto":W}),Object(r.d)(Sa,{position:"right",dense:y.visible},Object(r.d)(ha,{onEmojiPicked:ee,disabled:m&&!N}),t&&!w&&Object(r.d)(da,{disabled:!n,handleFileChange:J,fileInputRef:T}),w&&Object(r.d)(Ia,{"aria-label":"Add an attachment",ref:z,onClick:function(){return L(!P)},disabled:!n,active:P},Object(r.d)(V.b,{"aria-hidden":"true"})),P&&Object(r.d)(xa,{"aria-label":"File upload menu",menuButtonRef:z,onClose:function(){return L(!1)},css:Fa,onSelect:K},Object(r.d)(ka,{value:"file"},Object(r.d)(da,{disabled:!n,handleFileChange:J,label:"Send a file",icon:V.l})),Object(r.d)(ka,{value:"screenshot"},Object(r.d)(V.G,{css:function(e){return function(e){return e.isRtl?Ra:_a}(e)},"aria-hidden":!0}),"Attach a screenshot")),Object(r.d)(h.r,{flexFit:!0,icon:Object(r.d)(V.y,null),css:za,"aria-label":"Send a message"}),!U&&Object(r.d)(Aa,{multiple:!0,onChange:J,type:"file",value:"",id:"fileupload",ref:T,disabled:!n}))))}))})),Pa="set_can_be_shown",La="expand",Ba="collapse",qa="toggle_collapsed",Ha="main_transition_start",Da="main_transition_end",Na="drawer_transition_end",Ua="reset_collapsed",Va="show_conifrmation_modal",Wa="hide_conifrmation_modal",Ga=function(){return{type:Pa}},Ya=function(){return{type:La}},Ka=function(){return{type:Ba}},Za=function(){return{type:qa}},Qa=function(){return{type:Ha}},Xa=function(){return{type:Da}},Ja=function(){return{type:Na}},$a=function(){return{type:Ua}},eo=function(e){return{type:Va,payload:e}},to=function(){return{type:Wa}},no=function(e,t){switch(t.type){case Pa:return Object(f.a)({},e,{canBeShown:!0});case La:return Object(f.a)({},e,{collapsed:!1});case Ba:return Object(f.a)({},e,{collapsed:!0});case qa:return Object(f.a)({},e,{collapsed:!e.collapsed});case Ua:return Object(f.a)({},e,{animationEnded:!1,collapsed:!1});case Ha:return Object(f.a)({},e,{isAnimating:!0});case Da:return Object(f.a)({},e,{isAnimating:!1,animationEnded:!0});case Na:return Object(f.a)({},e,{isExpanding:!1});case Va:return Object(f.a)({},e,{isConfirmationModalShown:!0,confirmationModalMode:t.payload},e.collapsed&&{isExpanding:!0,collapsed:!1});case Wa:return Object(f.a)({},e,{isConfirmationModalShown:!1});default:return e}};function ro(){var e=Object(k.a)(["\n\t&-enter,\n\t&-appear {\n\t\ttransform: translateY(100%);\n\t}\n\t&-enter-active,\n\t&-appear-active,\n\t&-enter-done,\n\t&-appear-done {\n\t\ttransform: translateY(0);\n\t\ttransition: transform ","ms ",";\n\t}\n\n\t&-exit {\n\t\ttransform: translateY(0);\n\t}\n\n\t&-exit-active {\n\t\ttransform: translateY(100%);\n\t\ttransition: transform ","ms\n\t\t\t",";\n\t}\n"]);return ro=function(){return e},e}var io=function(e){return{enter:600,exit:e?200:400}},ao=function(e,t,n,r){return e(ro(),(n?0:600)*t,r.transitions.easings.swift,(n?200:400)*t,r.transitions.easings.swift)},oo=function(e){var t=e.show,n=e.collapsed,a=e.durationFactor,o=e.onTransitionStart,c=e.onTransitionEnd,l=e.children,s=e.nodeRef;return i.createElement(r.a,null,(function(e){var r=e.css,u=e.theme;return i.createElement(v.a,{appear:!0,component:null},t&&i.createElement(C.a,{timeout:io(n),onExited:c,onEntered:c,onExiting:o,onEntering:o,classNames:ao(r,a,n,u),nodeRef:s},l))}))},co=n(633),lo="transform, height, bottom, min-height, max-height, box-shadow, z-index, border-radius",so=i.forwardRef((function(e,t){var n=e.heightPercentage,a=e.collapsed,o=e.children,l=e.animationEnded,s=e.onTransitionEnd,u=e.isFooterHidden,d=Object(E.a)(e,["heightPercentage","collapsed","children","animationEnded","onTransitionEnd","isFooterHidden"]),m=i.useRef(null),b=Object(c.c)(m,t),p=Object(fe.b)();return Object(c.g)("touchmove",m),Object(c.b)(p?null:m),Object(r.d)(co.a,{autoFocus:!1,disabled:a,returnFocus:!0,crossFrame:!1,css:function(e){return function(e){var t=e.heightPercentage,n=e.collapsed,i=e.animationEnded,a=e.isFooterHidden,o=e.theme;return Object(r.c)("position:absolute;z-index:",n?100:1500,";display:flex;flex-direction:column;height:",n?"48px":100*t+"%",";min-height:",n?"48px":"270px",";max-height:",n?"48px":"100%",";width:100%;bottom:",function(e,t,n){return!t||e?0:"modern"===n.name?32:24}(a,n,o),"px;border-radius:",n?0:"inherit",";color:",o.colors.primaryTextColor,";background-color:",o.colors.floatSurface,";box-shadow:",n?o.boxShadow.floating:"none",";",i&&{transitionProperty:lo,transitionDuration:600*t+"ms",transitionTimingFunction:""+o.transitions.easings.swift,willChange:lo},";")}({heightPercentage:n,collapsed:a,animationEnded:l,isFooterHidden:u,theme:e})},ref:b,lockProps:Object(f.a)({role:"dialog","aria-modal":!0,onTransitionEnd:s},d)},o)})),uo=n(52),mo={allowtransparency:"true",scrolling:"yes",style:{position:"absolute",minWidth:"100%",minHeight:"100%",height:"1px",width:"1px",margin:"0",padding:"0",background:"none",border:"0"}},bo=function(e,t){return Object(f.a)({moment_url:Object(K.e)(e)+Object(K.f)(e),moment_origin:Object(K.e)(e)||""},t&&{ui_source:t})},fo=function(e){return Object(r.c)("flex-grow:1;position:relative;overflow:auto;-webkit-overflow-scrolling:touch;display:",e?"none":"block",";background-color:#ffffff;")},po=function(e,t,n){var r=document.createElement("iframe");return r.allow=n,r.src=t,e.appendChild(r),r},go=function(e){var t=e.id,n=e.url,a=e.close,o=e.hidden,c=e.sendMessage,l=e.sendSystemMessage,s=e.setAttributes,u=e.onLoadingChanged,d=e.onMomentDataChanged,m=e.iframeAllowedProperties,b=e.getCustomerToken,f=e.updateCustomerData,p=e.licenseId,h=e.chatId,v=e.source,j=i.useRef(void 0),O=i.useRef(g.W),y=i.useRef(g.W),x=i.createRef();return O.current=function(){if(n&&x.current){var e={close:a,sendMessage:c,setAttributes:s,updateCustomerData:f,licenseId:p,chatId:h,setExternalLink:function(e){d({externalLink:e})},setIsFragile:function(e){d({isFragile:e})},getIdentityTransferToken:function(){if(vr(n))return b().then((function(e){return function(e){var t=e.accessToken;return Object(uo.a)(Object(lr.b)("accounts")+"/customer/identity_transfer",{method:"POST",headers:{Authorization:"Bearer "+t},body:JSON.stringify({bearer_type:"customer",client_id:"c5e4f61e1a6c3b1521b541bc5c5a2ac5"})}).then((function(e){return e.json()})).then((function(e){return Object(g.P)(g.b,e)}))}(e)})).catch((function(e){return e}));throw new Error("Moment App not authorized")}};l&&(e.sendSystemMessage=l),j.current=Object(gr.b)({frame:po(x.current,n,m),url:n,onConnected:function(e){var t=e.data;u(!1),d(t)}},e),Object(va.a)(mo,j.current.frame),u(!0),j.current.frame.addEventListener("load",(function e(){j.current&&(u(!1),j.current.frame.removeEventListener("load",e))})),d({title:j.current.title}),Object(fr.d)("moment_opened",bo(Object(gr.a)(n),v))}},y.current=function(){j.current&&(j.current.destroy(),x.current&&(x.current.innerHTML=""),d(null),u(!1),j.current=void 0),n&&Object(fr.d)("moment_closed",bo(Object(gr.a)(n)))},i.useEffect((function(){return O.current(),function(){return y.current()}}),[n]),Object(r.d)("div",{id:t,ref:x,css:fo(o),onScroll:function(e){!function(e){if(e){var t=e.scrollTop,n=e.scrollHeight-e.offsetHeight;0===t?e.scrollTop=1:t===n&&(e.scrollTop=n-1)}}(e.currentTarget)}})},ho="confirmation-modal-label-id",vo={fragile:function(){return"Any data or connection will be lost after you close this window"},change:function(e){return'If you open another app, "'+e+'" will be closed.'},"fragile-change":function(e){return'If you open another app, "'+e+"\" will be closed. You'll lose data and connection."}},jo=Object(h.z)("div",{target:"ej1cp8k3"})("z-index:1500;position:absolute;top:42px;left:50%;min-width:75%;max-width:285px;display:flex;flex-direction:column;background:",(function(e){return e.theme.colors.surface}),";box-shadow:",(function(e){return e.theme.boxShadow.lg}),";padding:",(function(e){return e.theme.spaces.space6}),";border-radius:",(function(e){return e.theme.borderRadius.md}),";"),Oo=Object(h.z)(Et.a,{target:"ej1cp8k2"})("display:flex;width:auto;flex-grow:",(function(e){return e.secondary?1:1.5}),";padding:8px 12px;",(function(e){var t=e.secondary,n=e.theme;return t&&{backgroundColor:n.colors.surfaceDecorative,color:n.colors.primaryTextColor}})," &:first-child{margin-right:",(function(e){return e.theme.spaces.space4}),";}"),yo=Object(h.z)("p",{target:"ej1cp8k1"})("margin:0;overflow-wrap:break-word;",(function(e){return e.theme.typography.basic}),";"),xo=Object(h.z)("div",{target:"ej1cp8k0"})("width:100%;display:flex;align-self:center;margin-top:",(function(e){return e.theme.spaces.space4}),";"),wo=function(e){var t=e.shown,n=e.onResponse,r=e.mode,a=e.currentAppName,o=i.useRef(null),c=Object(J.c)({isOpen:!0,isDismissable:!0,onClose:function(){return n("canceled")}},o).overlayProps,l=Object(J.b)().modalProps,u=Object(X.a)({"aria-labelledby":ho},o).dialogProps,d=Object(fe.b)(),m="fragile"!==r,b=Object(g.E)("fragile",r);return Object(J.d)({isDisabled:d}),i.createElement(i.Fragment,null,i.createElement(be,{shown:t}),i.createElement(v.a,{component:null},t&&i.createElement(w.b,{nodeRef:o},i.createElement(s.a,{contain:!0,restoreFocus:!0,autoFocus:!0},i.createElement(jo,Object(f.a)({},Object($.h)(c,u,l),{ref:o}),i.createElement(yo,{id:ho},vo[r](a)),i.createElement(xo,null,i.createElement(Oo,{secondary:!0,onClick:function(){return n("canceled")}},m?"Do nothing":"Cancel"),i.createElement(Oo,{destructive:b,onClick:function(){return n("confirmed")}},m?"Open another app":"Close anyway")))))))},Eo=n(211),ko=n(226);var Co=Object(h.z)(V.d,{target:"e1crrbvm1"})((function(e){return"up"===e.direction&&{transform:"scaleY(-1)"}}),";"),zo=Object(h.z)("div",{target:"e1crrbvm0"})("min-height:",(function(e){return e.visible?48:0}),"px;transition:min-height 300ms ",(function(e){return e.theme.transitions.easings.swift}),";"),So={full:.8,tall:.5,compact:.3},To={name:"zjik7",styles:"display:flex"},_o=Object(o.c)((function(e,t){var n=t.chatId,r=function(t){return void 0===t&&(t=!1),x.f(e,t)},i=function(t){return x.P(e,{properties:t})},a=function(t){["email","name"].forEach((function(e){(t[e]&&"string"!==typeof t[e]||""===t[e])&&delete t[e]})),(t.email||t.name)&&x.P(e,t)},o=function(t){return x.B(e,n,t)},c=Object(ko.a)({allowVideoConferencing:Object(b.E)(e,"microphone"),allowClipboardWrite:Object(b.E)(e,"clipboard_write")}),l=function(t){return x.A(e,n,t)};return function(e){var t=e.getView("Moment"),n=t.show,s=t.data,u=s.url,d=Object(E.a)(s,["url"]),m=e.getApplicationState("license");return{show:n,closeMoment:r,sendMessage:o,sendSystemMessage:l,updateSessionUser:i,onUpdateCustomerData:a,momentData:d,url:u,iframeAllowedProperties:c,getCustomerToken:function(){return new Promise((function(t,n){e.once("customer_token_response",t),e.once("customer_token_error",n),e.emit("request_customer_token")}))},licenseId:m,isFooterHidden:Object(b.Y)(e),registerRequestCloseMomentListener:function(t){return e.on("request_close_moment",t),function(){return e.off("request_close_moment",t)}},registerRequestExpandMomentListener:function(t){return e.on("request_expand_moment",t),function(){return e.off("request_expand_moment",t)}},minimizeWidget:function(t){return void 0===t&&(t=!1),x.v(e,!1,t)},setNextMomentData:function(t){return e.updateView("Moment",{show:!0,data:t})},chatId:Object(b.c)(e)||void 0}}}))((function(e){var t=e.iframeAllowedProperties,n=e.show,a=e.url,o=e.updateSessionUser,l=e.sendMessage,s=e.sendSystemMessage,u=e.onSendMessage,d=e.getCustomerToken,m=e.licenseId,b=e.onUpdateCustomerData,p=e.isFooterHidden,h=e.registerRequestCloseMomentListener,v=e.registerRequestExpandMomentListener,j=e.minimizeWidget,O=e.setNextMomentData,y=e.chatId,x=Object(c.i)("moment-collapsed"),w={canBeShown:!1,collapsed:!1,isExpanding:!0,isAnimating:!1,animationEnded:!1,isConfirmationModalShown:!1,confirmationModalMode:"change"},E=i.useReducer(no,w,(function(){var t;return Object(f.a)({},w,{collapsed:!!(null==(t=x.get())?void 0:t.collapsed)&&!e.momentData.wasTriggeredByGreeting})})),k=E[0],C=k.canBeShown,z=k.collapsed,S=k.isExpanding,T=k.isAnimating,_=k.animationEnded,R=k.isConfirmationModalShown,I=k.confirmationModalMode,A=E[1],F=i.useRef(null),M=i.useRef(null),P=i.useState(!1),L=P[0],B=P[1],q=i.useState({}),H=q[0],D=q[1],N=i.useState(!1),U=N[0],W=N[1],G=i.useRef(!1),Y=i.useRef(null),K=Object(ie.f)(),Z=Object(c.f)(C&&n,(function(){return e.closeMoment(U)})),Q=Z[0],X=Z[1],J=T||L,ee=function(e){var t=e.height;return t&&t in So?So[t]:So.full}(e.momentData),te=ee/.8,ne=Object($.l)(),re=Object(pe.b)();Object(g.G)(H)&&!Object(g.G)(e.momentData)&&D(Object(f.a)({},H,e.momentData)),Object(c.y)(i.useCallback((function(){return A(Ga())}),[]),300),i.useEffect((function(){e.momentData.wasTriggeredByGreeting&&_&&O(Object(f.a)({},e.momentData,{url:a,wasTriggeredByGreeting:!1}))}),[_,a,e.momentData,O]),i.useEffect((function(){var e=h((function(){if(G.current)return W(!0),void A(eo("fragile"));j(!0)}));return function(){return e()}}),[G,j,h]),i.useEffect((function(){var e=v((function(e){A(Ya()),(null==e?void 0:e.nextMoment)&&(Y.current=e.nextMoment,A(eo(G.current?"fragile-change":"change")))}));return function(){return e()}}),[v]),i.useEffect((function(){return x.set({collapsed:z})}),[x,z]),i.useEffect((function(){return re.setMomentExpand(n&&!z)}),[n,z,re]),i.useEffect((function(){Q&&Object($.d)(M.current)}),[Q]),i.useEffect((function(){!Q&&_&&A($a())}),[Q,_]);return Object(r.d)(i.Fragment,null,Object(r.d)(be,{shown:n&&!z,onPress:function(){_&&A(Ka())},zIndex:99}),Object(r.d)(zo,{visible:n}),Object(r.d)(oo,{show:Q||n&&z,collapsed:z,nodeRef:F,onTransitionEnd:function(){A(Xa())},onTransitionStart:function(){A(Qa())},durationFactor:te},Object(r.d)(so,{ref:F,heightPercentage:ee,collapsed:z,animationEnded:_,isFooterHidden:p,onTransitionEnd:function(){return A(Ja())}},Object(r.d)(wi,{noShrink:!0},Object(r.d)(yi,{src:H.icon,"aria-hidden":!0}),Object(r.d)(xi,Object(f.a)({ellipsis:!0,flexFill:!0,tabIndex:-1,ref:M},K),H.title),H.externalLink&&!z&&Object(r.d)(Vt.a,{href:H.externalLink,rel:"nofollow noopener noreferrer",css:To,"aria-label":"Open in a new tab"},Object(r.d)(V.v,{"aria-hidden":!0})),Object(r.d)(V.n,{onPress:function(){return A(Za())},css:To,"aria-label":"Toggle modal","aria-expanded":!z,"aria-controls":ne},Object(r.d)(Co,{direction:z?"up":"down","aria-hidden":!0})),Object(r.d)(V.n,{onPress:function(){G.current?A(eo("fragile")):X()},css:To,"aria-label":"Close modal"},Object(r.d)(V.e,null))),Object(r.d)(wo,{shown:!z&&!S&&!!R,mode:I,currentAppName:H.title,onResponse:function(e){if(A(to()),"canceled"!==e||!Object(g.E)("change",I))return Y.current?("confirmed"===e&&(G.current=!1,O(Y.current)),void(Y.current=null)):void("confirmed"===e&&X());A(Ka())}}),Object(r.d)(go,{id:ne,hidden:z||J,close:X,url:a,licenseId:m,chatId:y,source:H.source,sendMessage:function(e){var t=e.text;l(t),u&&u(t)},sendSystemMessage:s,setAttributes:o,updateCustomerData:b,onMomentDataChanged:function(e){e&&"isFragile"in e&&(G.current=!!e.isFragile),D((function(t){return e?Object(f.a)({},t,e):{}}))},onLoadingChanged:B,iframeAllowedProperties:t,getCustomerToken:d}),!z&&J&&Object(r.d)(Eo.a,{size:"xlarge",style:{margin:"auto"}}))))})),Ro=n(134),Io=n(81),Ao=n(70);var Fo=Object(h.z)("span",{target:"e1oq7ugp9"})((function(e){var t=e.failed,n=e.theme;return{color:t?n.colors.error:n.colors.primaryTextColor}}),";"),Mo=Object(h.z)("div",{target:"e1oq7ugp8"})("flex:1;display:flex;flex-direction:column;margin:2px;min-width:calc(50% - 4px);max-width:100%;height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?140:100}),"px;"),Po=Object(h.z)("div",{target:"e1oq7ugp7"})("border-radius:",(function(e){return e.theme.borderRadius.xl}),";flex:1;width:100%;height:100%;display:flex;overflow:hidden;position:relative;align-items:center;justify-content:center;"),Lo=Object(h.z)("div",{target:"e1oq7ugp6"})("color:",(function(e){return e.theme.colors.secondaryTextColor}),";background-color:",(function(e){return e.theme.colors.surfaceDecorative}),";width:100%;height:100%;display:flex;align-items:center;justify-content:center;"),Bo=Object(h.z)("img",{target:"e1oq7ugp5"})({name:"q4dzvk",styles:"width:100%;height:auto"}),qo=Object(h.z)("div",{target:"e1oq7ugp4"})({name:"1uja423",styles:"position:absolute;top:6px;right:6px;z-index:1"}),Ho=Object(h.z)("div",{target:"e1oq7ugp3"})("height:24px;width:24px;display:flex;border-radius:50%;align-items:center;justify-content:center;",(function(e){var t=e.theme,n=e.success,r=e.error;return n?{backgroundColor:t.colors.success,color:t.colors.successContrast}:r?{backgroundColor:t.colors.error,color:t.colors.errorContrast}:void 0}),";"),Do=Object(h.z)("div",{target:"e1oq7ugp2"})("opacity:",(function(e){return e.visible?1:0}),";transition:opacity 100ms ",(function(e){return e.theme.transitions.easings.smooth}),";position:absolute;left:6px;right:6px;bottom:6px;display:flex;flex-direction:row-reverse;align-items:center;justify-content:space-between;z-index:1;",Ge.p,"{width:20px;height:20px;}"),No=Object(h.z)("div",{target:"e1oq7ugp1"})("border-radius:",(function(e){return e.theme.borderRadius.md}),";color:",(function(e){return e.theme.colors.grayscale[0]}),";padding:2px;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:rgba(0, 0, 0, 0.6);"),Uo=Object(h.z)("span",{target:"e1oq7ugp0"})((function(e){return e.theme.typography.caption}),";color:",(function(e){return e.theme.colors.grayscale[0]}),";cursor:pointer;margin-right:4px;"),Vo={name:"e0dnmk",styles:"cursor:pointer"},Wo=function(e){var t=e.failReason,n=i.useRef(null),a=Object(s.e)({},n).focusableProps;return Object(r.d)(Ho,Object(f.a)({"aria-label":t,error:!0},a,{ref:n,tabIndex:0}),Object(r.d)(Ge.c,{css:Vo,size:24,"aria-hidden":!0}))},Go={name:"1nq59d9",styles:"transition:opacity 100ms linear"},Yo=function(e){var t=e.name,n=e.failed,i=e.finished,a=e.url,c=e.fileType,l=e.mobile,s=e.alternativeText,u=e.onCancel,d=e.onAlternativeTextEdit,m=e.progress,b=void 0===m?0:m,f=e.failReason,p=void 0===f?"":f,g=e.insistHover,h=e.onHoverChange,v=Object(ie.i)({onHoverChange:h}),j=v.hoverProps,O=v.isHovered,y=Object(ie.f)().isFocusVisible;return Object(r.d)(o.a,null,(function(e){return Object(r.d)(Mo,null,Object(r.d)(Po,j,Object(r.d)(qo,null,i&&Object(r.d)(Ho,{success:!0},Object(r.d)(Ge.G,{size:24,"aria-hidden":!0})),n&&Object(r.d)(cn,{description:p,allowTouch:!0},Object(r.d)(Wo,{failReason:p})),!i&&!n&&Object(r.d)(Eo.a,{size:"medium",progress:b,"aria-hidden":!0})),(u||d)&&Object(r.d)(Do,{visible:g||O||y||l},u&&Object(r.d)(No,null,Object(r.d)(Ge.p,{onPress:u,"aria-label":"remove the "+t+" file"},Object(r.d)(Ge.A,{size:20,"aria-hidden":!0}))),"image"===c&&d&&Object(r.d)(No,null,Object(r.d)(Ge.p,{onPress:d,"aria-label":"add alternative text to the "+t+" image"},Object(r.d)(Ge.i,{size:20,"aria-hidden":!0})),Object(r.d)(Uo,{onClick:d},e("alt_text")))),"image"===c&&Object(r.d)(Bo,{src:a,alt:s||"",style:{opacity:i?1:.25},css:Go}),"other"===c&&Object(r.d)(Lo,null,Object(r.d)(Ge.n,{size:56}))),Object(r.d)(Fo,{ellipsis:!0,failed:n,finished:i},t))}))};var Ko=Object(h.z)("p",{target:"eprg9im5"})("margin-bottom:",(function(e){var t=e.theme,n=e.mobile;return"modern"!==t.name&&n?0:4}),"px;",(function(e){return e.theme.typography.caption})," ",En(),";color:",(function(e){return e.theme.colors.primaryTextColor}),";margin:0;padding:0 12px;max-width:100%;max-height:50px;"),Zo=Object(h.z)("div",{target:"eprg9im4"})((function(e){var t=e.theme;return!e.mobile&&"modern"===t.name&&"max-height: 230px; overflow-y: auto;"}),";"),Qo=Object(h.z)("div",{target:"eprg9im3"})("height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?145:140}),"px;overflow:hidden;display:flex;align-items:center;justify-content:center;width:100%;"),Xo=Object(h.z)("div",{target:"eprg9im2"})("padding:",(function(e){var t=e.theme;return t.spaces.space3+" "+t.spaces.space5}),";display:flex;flex-direction:row;justify-content:center;align-items:center;max-width:100%;"),Jo=Object(h.z)($e,{target:"eprg9im1"})("height:34px;",(function(e){var t=e.theme.isRtl?"left":"right";return Object(r.c)("border-",t,":none;border-top-",t,"-radius:0;border-bottom-",t,"-radius:0;")}),";"),$o=Object(h.z)(V.n,{target:"eprg9im0"})("color:",(function(e){var t=e.theme;return e.highlighted?t.colors.ctaText:t.colors.disabledContrast}),";background-color:",(function(e){var t=e.theme;return e.highlighted?t.colors.cta:t.colors.disabled}),";height:34px;width:34px;justify-content:center;align-items:center;display:flex;padding:6px 8px;",(function(e){var t=e.theme,n=t.isRtl?"left":"right",i=t.isRtl?"right":"left";return Object(r.c)("border-top-",i,"-radius:0;border-bottom-",i,"-radius:0;border-top-",n,"-radius:6px;")})," transition:background 100ms linear;"),ec={name:"q4dzvk",styles:"width:100%;height:auto"},tc=function(e){var t=e.url,n=e.alternativeText,a=e.onAlternativeTextChanged,c=e.mobile,l=e.titleId,s=i.useState(n||""),u=s[0],d=s[1],m=Object(ie.f)().isFocusVisible,b=Object($.l)();return Object(r.d)(o.a,null,(function(e){return Object(r.d)(Zo,{mobile:c},Object(r.d)(Qo,{mobile:c},Object(r.d)("img",{src:t,css:ec,alt:n})),Object(r.d)(Xo,null,Object(r.d)(Jo,{autoFocus:!0,"aria-labelledby":l,"aria-describedby":b,maxLength:16384,value:u,placeholder:e("describe_image"),onChange:function(e){var t=e.target;return d(t.value)}}),Object(r.d)($o,{"aria-label":"save the image's alternative text",highlighted:u!==n||m,disabled:u===n,onPress:function(){a(u)}},Object(r.d)(V.a,{size:24}))),Object(r.d)(Ko,{id:b,mobile:c},e("alternative_text_description")))}))},nc=n(99);var rc=Object(h.z)("h2",{target:"e1k6tlos7"})((function(e){var t=e.failed,n=e.theme;return t&&{color:n.typography.errorCaption.color}})," padding:0 6px;font-size:14px;font-weight:normal;align-self:center;margin:0;"),ic=Object(h.z)("div",{target:"e1k6tlos6"})({name:"189qznn",styles:"display:flex;cursor:pointer"}),ac=Object(h.z)("div",{target:"e1k6tlos5"})("transition:max-height ",(function(e){return e.longAnimation?600:400}),"ms ",(function(e){return e.theme.transitions.easings.swift}),";overflow:hidden;max-height:249px;"),oc=Object(h.z)("div",{target:"e1k6tlos4"})("height:auto;",(function(e){return e.edit&&{margin:"0 -8px"}}),";"),cc=Object(h.z)("div",{target:"e1k6tlos3"})("max-height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?200:125}),"px;overflow:auto;display:flex;flex-direction:row;flex-wrap:wrap;padding:4px 0;"),lc=Object(h.z)("hr",{target:"e1k6tlos2"})("margin:",8,"px -",8,"px 0;border:0;border-bottom:1px solid rgba(0, 0, 0, 0.1);"),sc=Object(h.z)(Ge.e,{target:"e1k6tlos1"})((function(e){return"up"===e.direction&&{transform:"scaleY(-1)"}}),";"),uc={name:"gc6sdx",styles:"padding-left:4px"},dc=Object(h.z)(V.u,{target:"e1k6tlos0"})("padding:",(function(e){var t=e.theme,n=e.isEdit,r=e.expanded;return!e.mobile&&"modern"===t.name&&n&&r?"8px 8px 0":"8px"}),";",(function(e){return e.theme.typography.basic}),";color:",(function(e){return e.theme.colors.primaryTextColor}),";overflow:hidden;"),mc={name:"x4j9dr",styles:"margin-top:6px;max-width:100%"},bc={name:"13fmgtn",styles:"transform:scaleX(-1)"},fc=Object(Ao.createSelector)([g.D],(function(e){return e.map((function(e){return Object(f.a)({id:e.id},e.properties)}))})),pc=Object(o.c)((function(e,t){var n=t.chatId,r=function(t){e.emit("cancel_upload",{eventId:t})},i=function(t,r){e.updateEvent(n,t,{properties:{alternativeText:r}})},a=function(){e.emit("send_file_events")};return function(e){var t=e.getApplicationState(),n=t.isSendingFileEvents,o=t.mobile,c=t.config,l=t.license,s=t.group,u=t.requestedGroup,d=fc(Object(b.p)(e));return{mobile:o,persistKey:Object(nc.a)({license:l,group:s,requestedGroup:u}),isSendingFileEvents:n,uploadEntries:d,cancelUpload:r,setAlternativeText:i,sendFiles:a,localize:e.localize,themeName:c.theme.name}}}))((function(e){var t=e.uploadEntries,n=e.uploadEnabled,a=e.cancelUpload,o=e.localize,c=e.mobile,l=e.persistKey,s=e.sendFiles,u=e.isSendingFileEvents,d=e.setAlternativeText,m=e.themeName,b=e.scrollToBottom,p=Object($.l)(),h=Object($.l)(),v=i.useState(!0),j=v[0],y=v[1],x=i.useState(!1),w=x[0],E=x[1],k=i.useState(!1),C=k[0],z=k[1],S=i.useState(null),T=S[0],_=S[1],R=i.useState(""),I=R[0],A=R[1],F=i.useRef(null),M=i.useRef(null),P=function(e,t){var n=e.filter((function(e){return e.failed})),r=e.filter((function(e){return e.finished})).length,i=n.length,a=e.length,o=t("file_upload_status").replace("%finishedCount%",String(r)).replace("%totalCount%",String(a));switch(!0){case i>0:return{failedCount:i,uploadStatus:"error",title:i>1?t("files_failed_to_upload").replace("%files%",String(i)):n[0].failReason};case r===a:return{uploadStatus:"success",title:o};default:return{uploadStatus:"pending",title:o}}}(t,o),L="error"===P.uploadStatus&&t.length===P.failedCount,B=function(){I&&A("")},q=i.useCallback((function(){return c||"modern"!==m?249:228}),[m,c]),H=i.useCallback((function(e){return(t.length>2||e?q():201)+"px"}),[t,q]),D=i.useCallback((function(e){U(e)&&(F.current.style.maxHeight=e)}),[]),N=function(e){return M.current.style.height=e},U=function(e){return F.current.style.maxHeight!==e},V=i.useCallback((function(){j?(E(!0),D("0px")):y(!0)}),[j,D]),W=function(e){if(j){var t=H(!!e);!e&&U(t)?(_(null),z(!0),N(M.current.clientHeight+"px"),D(t)):(D(q()+"px"),_(e))}else _(e)},G=i.useCallback((function(){w?(y(!1),E(!1)):C&&(N("auto"),z(!1))}),[w,C]);return i.useEffect((function(){t.length&&j&&!w&&D(H(!!T))}),[t.length,j,w,D,H,T]),i.useEffect((function(){if(Object(Io.b)("session")){var e=function(){Object(g.G)(t)||function(e,t){var n=e.filter((function(e){return e.finished})).map((function(e){return Object(f.a)({},e,{url:e.serverUrl})}));Object(g.G)(n)||window.sessionStorage.setItem(t,JSON.stringify(n))}(t,l)};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}}),[t,l]),Object(r.d)(dc,{isEdit:T,expanded:!w&&j,mobile:c},Object(r.d)(O.b,{message:P.title,clearOnUnmount:!0,"aria-live":"error"===P.uploadStatus?"assertive":"polite"}),Object(r.d)(ic,{onClick:function(e){e.stopPropagation(),V()}},T?Object(r.d)(Ge.p,{"aria-label":"go back to upload list",onPress:function(){W(null)}},Object(r.d)(Ge.a,{size:24,css:bc,"aria-hidden":!0})):Object(r.d)(i.Fragment,null,"pending"===P.uploadStatus?Object(r.d)(Eo.a,{size:"medium","aria-hidden":!0}):"success"===P.uploadStatus?Object(r.d)(Ho,{success:!0},Object(r.d)(Ge.G,{size:24,"aria-label":"Upload success"})):Object(r.d)(Ho,{error:!0},Object(r.d)(Ge.c,{size:24,"aria-label":"Upload error"}))),Object(r.d)(rc,Object(f.a)({id:h,flexFill:!0,ellipsis:!0},"error"===P.uploadStatus&&{failed:!0,title:P.title}),T?o("add_alternative_text"):P.title),Object(r.d)(Ge.p,{css:uc,"aria-label":"Toggle upload list","aria-controls":p,"aria-expanded":j,onPress:V},Object(r.d)(Ge.q,{size:24,"aria-hidden":!0},Object(r.d)(sc,{direction:j&&!w?"down":"up",size:24})))),j&&!w&&Object(r.d)(lc,null),Object(r.d)(ac,{ref:F,onTransitionEnd:G,longAnimation:!j||w},j&&Object(r.d)(oc,{id:p,edit:!!T,ref:M},T?Object(r.d)(tc,Object(f.a)({titleId:h},t.find((function(e){return e.id===T})),{onAlternativeTextChanged:function(e){W(null),d(T,e)},mobile:c})):Object(r.d)(i.Fragment,null,Object(r.d)(cc,{mobile:c},t.map((function(e){return Object(r.d)(Yo,Object(f.a)({},e,{key:e.id,mobile:c,failed:!!e.failed,insistHover:I===e.id,onHoverChange:B,onCancel:!u||e.failed?function(){return function(e){if(!c&&t.length>1){var n=Object(g.q)((function(t){return t.id===e}),t),r=n===t.length-1;A(t[n+(r?-1:1)].id)}a(e)}(e.id)}:null,onAlternativeTextEdit:u?null:function(){return W(e.id)}}))}))),Object(r.d)(Et.a,{onClick:function(){s(),b({duration:0})},disabled:L||!n,pending:u||"pending"===P.uploadStatus,css:mc},o("send_files"))))))}));var gc=Object(h.z)("div",{target:"ezpiwsd0"})({name:"1u57r43",styles:"position:absolute;bottom:0;left:0;right:0;z-index:100"}),hc=Object(o.c)((function(e,t){var n=t.markAsSeen,r=function(){b.u(u.d,Date.now(),e).reverse().forEach((function(e){return n(e.id)}))};return function(e){var t=!Object(g.G)(b.p(e)),n=e.getApplicationState("mobile"),i=b.k(e,u.d),a=e.getUnseenCount(u.d),o=i&&i.properties?i.properties.text:null;return{isFileUploadAllowed:b.eb(e),isFileUploadPossible:b.N(e),isUploadingFiles:t,previewText:o,unseenCount:a,mobile:n,markAllEventsAsSeen:r,localize:e.localize}}}))((function(e){var t=e.isFileUploadAllowed,n=e.isFileUploadPossible,r=e.isUploadingFiles,a=e.previewText,o=e.unseenCount,l=e.chatId,s=e.mobile,u=e.scrollToBottom,d=e.markAllEventsAsSeen,m=e.isOnBottomSource,b=e.isScrollable,f=e.localize,p=a,g=Object(c.w)(m),h=o>0&&!g&&b,j=i.useState(h),y=j[0],x=j[1];return p||(p=f(o>1?"new_messages":"new_message")),!h&&y&&x(!1),i.useEffect((function(){if(h){var e=setTimeout((function(){return x(!0)}),300);return function(){return clearTimeout(e)}}}),[h]),i.createElement(gc,null,i.createElement(v.a,{appear:!0,component:null},t&&r&&i.createElement(w.a,{key:"upload"},i.createElement(pc,{scrollToBottom:u,chatId:l,uploadEnabled:n})),y&&i.createElement(w.a,{key:"unseen"},i.createElement(V.F,{text:p,stickToEdge:s,unseenCount:o,onClick:u,onClose:d}))),y&&i.createElement(O.b,{message:p,clearOnUnmount:!0,"aria-live":"assertive"}))})),vc=function(e){var t=Object(p.g)().Maximized.css.background;return i.createElement(Eo.a,Object(f.a)({},e,{adjustToColor:t,ariaLabel:"Loading previous messages"}))};var jc=Object(h.z)("div",{target:"e1fh44if0"})({name:"1f0bicm",styles:"padding:1em;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:0.9em"}),Oc=function(e){return i.createElement(jc,null,i.createElement(Et.a,e))},yc=Object(o.c)((function(e){var t=function(){return x.K(e)},n=function(){return x.L(e,u.d)};return function(e){var r="startChatAgain"===b.i(e,u.d),i=e.getChat(u.d).properties,a=i.starting,o=i.startChatAgainPending,c=e.localize(r?"embedded_start_chat_again":"embedded_greeting_accept");return{startAction:r?n:t,buttonLabel:c,isPending:a||o}}}))((function(e){var t=e.isPending,n=e.buttonLabel,r=e.startAction,a=e.onClick,o=void 0===a?g.W:a;return i.createElement(Oc,{disabled:t,pending:t,onClick:function(e){r(),o(e)}},n)}));var xc=Object(h.z)("div",{target:"e1onopp21"})("position:absolute;bottom:0;left:0;right:0;background:",(function(e){return e.theme.colors.caution}),";z-index:2;color:",(function(e){return e.theme.colors.cautionContrast}),";text-align:center;font-size:0.9em;line-height:2.8em;transform:translateY(100%);"),wc=Object(h.z)("div",{target:"e1onopp20"})({name:"1fgmm64",styles:"flex-grow:1;height:100%;position:relative;min-height:0;z-index:0;-webkit-overflow-scrolling:touch"}),Ec={name:"jddw9f",styles:"position:absolute;bottom:0;left:50%;z-index:3;transform:translate(-50%, 50%)"},kc=function(e){return e.events[0].id},Cc=function(e){return 0!==e.length?kc(e[0]):null},zc=function(e){var t=Object(g.N)(e);if(!t)return null;var n=Object(g.N)(t.events);return n?n.id:null};var Sc=Object(j.a)([function(e,t){return e.getTimeline(t)},g.D],(function(e,t){var n=b.H(t);return e.map((function(e,r){var i=0===r,a=e.showDate&&!i&&n;return Object(f.a)({},e,{isThreadBoundary:a,authorData:t.getUser(e.author)})}))}))((function(e,t){return t})),Tc=Object(o.c)((function(e,t){var n=t.id,r=e.getApplicationState("isPreview")?g.W:function(){x.I(e)},i=e.localize,a=function(){return e.updateChat(n,{properties:{loadingHistory:!0}})},o=function(t){return e.requestUpdateEvent(n,t,{seen:!0}).catch(g.W)},c=function(t,r){x.B(e,n,t,r)},l=function(t){var r=t.eventId,i=t.buttonId,a=b.b(e);e.sendEvent(n,{type:"rich_message_postback",thread:a,properties:{eventId:r,postback:{id:i,toggled:!0}}})},s=function(t){return b.Q(e,t)},u=function(t){return x.G(e,t)},d=function(t){return x.P(e,{properties:t})},m=function(t){var n=t.event,r=t.button;return x.o(e,n,r)};return function(e){var t=e.getChat(n),f=t.active,p=t.properties,g=p.agentIsTyping,h=p.loadingHistory,v=p.queued,j=p.ended,O=b.d(n,e),y=b.A(e,n),x=e.getUnseenCount(n),w=b.H(e)&&b.X(e);return{agent:O,active:f,ended:j,loadHistory:a,isThreadStickerEnabled:w,hasMoreHistory:y,markAsSeen:o,sendMessage:c,queued:v,sendPostback:l,showPrechat:r,localize:i,updateSessionUser:d,showMoment:u,unseenCount:x,timeline:Sc(e,n,e.getState()),activeQuickReply:b.s(n,e),agentIsTyping:g&&!!O,shouldLoadHistory:y&&!h,isLoadingHistory:h,showAvatar:b.h("agentAvatar",e).enabled,pageFocused:e.getApplicationState("pageFocused"),inputMode:b.i(e,n),reconnecting:b.nb(e),displayOfflineInformation:b.lb(e),lastSeenEvent:x>0&&e.getLastSeenAgentEvent(n),isGreeting:s,handleRichGreetingButtonClicked:m,isFillableFormDisplayed:b.O(e)}}}))((function(e){var t=e.displayOfflineInformation,n=e.active,a=e.ended,o=e.activeQuickReply,l=e.agent,s=e.isThreadStickerEnabled,d=e.hasMoreHistory,m=e.pageFocused,b=e.id,j=e.inputMode,y=e.loadHistory,x=e.localize,E=e.queued,k=e.reconnecting,C=e.shouldLoadHistory,z=e.showAvatar,S=e.showPrechat,T=e.timeline,_=e.agentIsTyping,R=e.mobile,I=e.unseenCount,F=e.lastSeenEvent,M=e.scrollingDeltaSource,P=e.sendMessage,L=e.showMoment,B=e.handleRichGreetingButtonClicked,q=e.isOnBottomSource,D=e.isFillableFormDisplayed,N=e.isLoadingHistory,V=i.useRef(),W=Object(c.x)(!1),G=i.useRef(!1),K=i.useRef(),Z=i.useState(I),Q=Z[0],X=Z[1],J=i.useState("hidden"),$=J[0],ee=J[1],te=i.useState(m),ne=te[0],re=te[1],ie=i.useState(F)[0],ae=Object(c.d)((function(){return function(e,t,n,r){return e.some((function(e){return e.type===u.g}))?"draft":t?"newMessageDivider":r||n||!e.some((function(e){return e.events.some((function(e){return"boosters"===e.type}))}))?"form":"boosters"}(T,Q,n,a)})),oe=Object(c.e)(k),ce="modern"!==Object(p.g)().name&&z;i.useEffect((function(){!m&&ne?re(!1):m&&!ne&&re(!0)}),[m,ne]);var le=i.useCallback((function(e){e&&C&&y()}),[C,y]),se=i.useCallback((function(){clearTimeout(K.current),K.current=setTimeout((function(){M.next({deltaX:0,deltaY:40})}),4e3)}),[M]),ue=i.useCallback((function(e){q.next(e),re(!0),e&&D?se():clearTimeout(K.current)}),[q,D,se]);Object(c.p)((function(){clearTimeout(K.current)}));var de=Object(c.u)(V,{firstItemKey:Cc(T),lastItemKey:zc(T),onIsScrolledToTopChanged:le,onIsScrolledToBottomChanged:ue,onIsUserScrollingChanged:W.next,onScrollDeltaChanged:M.next}),me=de.scrollToTop,be=de.scrollToBottom,fe=de.getIsOnBottom,pe=de.onWheel,ge=de.onTouchStart,he=de.getIsScrollable,ve=de.setScrollTargetNode,je=i.useCallback((function(e){fe()&&be(e)}),[fe,be]);i.useEffect((function(){D?se():clearTimeout(K.current)}),[D,se]);var Oe=i.useCallback((function(){je({duration:0})}),[je]),ye=function(e){return void 0===e&&(e=g.W),function(){be({duration:0}),e()}},xe=Object(c.r)((function(){fe()?be():be({duration:0}),X(0)})),we=function(e){var t=i.useRef(e);return i.useEffect((function(){t.current=e})),i.useMemo((function(){return{handleActionButtonClick:function(e){var n=e.button,r=e.event,i=t.current,a=i.active,o=i.showMoment,c=i.sendPostback,l=i.sendMessage,s=i.handleSendMessage,u=i.isGreeting,d=i.handleRichGreetingButtonClicked;if(u(r))return d({event:r,button:n}),void("message"===n.type&&s());if(a)switch(n.type){case"webview":return c({eventId:r,buttonId:n.postbackId}),void o({url:n.value,height:n.webviewHeight,source:"rich_message"});case"message":return l(n.text,{type:"action_button",event:r,button:n}),void s();default:return void c({eventId:r,buttonId:n.postbackId})}},markAsSeen:function(e){return t.current.markAsSeen(e)}}}),[])}(Object(f.a)({},e,{handleSendMessage:xe})),Ee=i.useCallback((function(e){G.current=e}),[]),ke=!!(_||E||o||t);return i.useEffect((function(){ke&&je()}),[ke,je]),i.useEffect((function(){if(R){var e=function(){G.current&&be({duration:0})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}}),[R,be]),i.useEffect((function(){return ee("auto")}),[]),Object(c.t)({mainElementRef:V,itemsCount:T.reduce((function(e,t){return e+t.events.length}),0),tableEdgeReached:function(e){"previous"===e&&me({duration:0})}}),Object(r.d)(A,{isOnBottomSource:q,beginingOfTime:T.length>0?T[0].timestamp:null,rootRef:V},Object(r.d)(h.f,{noShrink:!0},Object(r.d)(Xn,{chatId:b,scrollingDeltaSource:M,isOnBottomSource:q,isLoadingHistory:N},s&&Object(r.d)(H,{css:Ec,isUserScrollingSource:W}),k&&!oe&&Object(r.d)(i.Fragment,null,Object(r.d)(O.b,{message:x("reconnecting"),clearOnUnmount:!0,"aria-live":"assertive"}),Object(r.d)(xc,null,x("reconnecting")+"\u2026")))),Object(r.d)(v.a,{appear:!0,component:null},Object(r.d)(w.d,null,Object(r.d)(wc,null,Object(r.d)(hc,{chatId:b,isScrollable:he(),isOnBottomSource:q,scrollToBottom:be,markAsSeen:we.markAsSeen}),Object(r.d)(h.k,{active:ne,css:function(e){return function(e){var t=e.theme,n=e.overflow;return Object(r.c)("background:transparent;overscroll-behavior:contain;overflow-y:",t.isRtl?n:"auto",";position:absolute;top:0;bottom:0;left:0;right:0;")}({theme:e,overflow:$})},onWheel:pe,onTouchStart:ge,ref:V},d&&Object(r.d)(h.q,null,Object(r.d)(vc,{size:"medium",style:{margin:"auto"}})),T.map((function(e){return Object(r.d)(i.Fragment,{key:kc(e)},e.isThreadBoundary&&Object(r.d)(U,{timestamp:e.timestamp}),ie&&Q>0&&e.events.some((function(e){return e.id===ie.id}))&&Object(r.d)(Y,{unseenCount:Q,setScrollTargetNode:ve}),Object(r.d)(h.j,{isOwn:e.own,onlyFirstWithMeta:!0,avatar:ce&&"carousel"!==e.type&&e.authorData.avatar?e.authorData.avatar:void 0},e.events.map((function(t,n){return Object(r.d)(oa,{chatId:b,id:t.id,key:t.id,showMetaOnClick:0!==n,radiusType:e.radiusType,listItemHandlers:we,scrollTarget:ae,setScrollTargetNode:!Q&&ve,showMoment:L,scrollToBottom:be})}))))})),o&&Object(r.d)("div",{role:"row"},Object(r.d)("div",{role:"gridcell"},Object(r.d)(ca.b,{"aria-labelledby":o.id,onSelect:function(e){var t=o.properties.quickReplies[e];o.properties.invitation?B({event:o.id,button:t}):P(t.text,{type:"quick_reply",event:o.id,button:t}),xe()},replies:o.properties.quickReplies}))),_&&Object(r.d)(i.Fragment,null,Object(r.d)(O.b,{clearOnUnmount:!0,"aria-live":"polite",message:x("operator_is_typing",{operator:l.name}).replace("...","")}),Object(r.d)(v.a,{appear:!0,component:null},Object(r.d)(w.a,{exit:!1},Object(r.d)(Ro.b,{avatar:ce?l.avatar:null})))))))),"requestPrechat"===j?Object(r.d)(Oc,{onClick:ye(S)},x("embedded_greeting_accept")):"startChat"===j||"startChatAgain"===j?Object(r.d)(yc,{onClick:ye()}):"text"===j?Object(r.d)(Ma,{chatId:b,onSendMessage:xe,onHeightChange:Oe,onFocusChange:Ee}):null,Object(r.d)(_o,{chatId:b,onSendMessage:xe}))}));function _c(){var e=Object(k.a)(["\n\t&-enter,\n\t&-appear {\n\t\topacity: 0;\n\t}\n\n\t&-enter&-enter-active,\n\t&-appear&-appear-active {\n\t\topacity: 1;\n\t\ttransition: opacity ","ms ",";\n\t}\n\n\t&-exit {\n\t\topacity: 1;\n\t}\n\n\t&-exit&-exit-active {\n\t\topacity: 0;\n\t\ttransition: opacity ","ms ",";\n\t}\n"]);return _c=function(){return e},e}var Rc=Object(h.z)("div",{displayName:"View",section:!0,target:"e1u2umur1"})({name:"73jfg1",styles:"flex-grow:1;display:flex;height:100%;min-height:0;padding-bottom:1em"}),Ic=Object(h.z)("div",{displayType:"ViewContent",target:"e1u2umur0"})("overflow-y:auto;height:100%;flex-grow:1;padding:",(function(e){return e.full?"0 !important":"1em 1em 0 1em"}),";"),Ac=function(e,t){return e(_c(),200,t.transitions.easings.sharp,200,t.transitions.easings.sharp)},Fc={name:"1d3w5wq",styles:"width:100%"},Mc=function(e){var t=e.children,n=e.full,i=void 0!==n&&n;return Object(r.d)(Rc,null,Object(r.d)(r.a,null,(function(e){var n=e.css,a=e.theme;return Object(r.d)(v.a,{css:Fc},Object(r.d)(C.a,{appear:!0,classNames:Ac(n,a),timeout:200},Object(r.d)(Ic,{full:i},t)))})))},Pc=Object(h.z)(h.c,{target:"ea4v29u0"})("background-color:",(function(e){return e.theme.colors.surface}),";"),Lc=function(){return i.createElement(o.a,null,(function(e){return i.createElement(Mc,null,i.createElement(Pc,null,i.createElement(h.m,null,e("lost_connection"))))}))};function Bc(){var e=Object(k.a)(["\n\t50% {\n\t\topacity: 0.0;\n\t}\n"]);return Bc=function(){return e},e}var qc=Object(r.e)(Bc()),Hc=Object(r.c)("background:currentColor;opacity:0.3;animation:",qc," 1.5s linear 0s infinite;"),Dc=Object(r.c)(Hc,";"),Nc=Object(h.z)("div",{target:"e1uut4cd4"})("width:",(function(e){return e.width||"10em"}),";height:1em;margin:0.3em;border-radius:",(function(e){return e.theme.borderRadius.sm}),";",Hc,";"),Uc=Object(h.z)("div",{target:"e1uut4cd3"})({name:"1d3w5wq",styles:"width:100%"}),Vc=Object(h.z)("div",{target:"e1uut4cd2"})({name:"66u5jz",styles:"padding:1em"}),Wc=Object(h.z)("div",{target:"e1uut4cd1"})({name:"10qv9sv",styles:"width:100%;margin-top:0.5em"}),Gc=Object(h.z)("div",{displayName:"Message",section:!0,target:"e1uut4cd0"})(""),Yc=function(){return Object(r.d)(Mc,{full:!0},Object(r.d)(Uc,null,Object(r.d)(h.a,null,Object(r.d)(h.b,{css:Dc,letter:" "})),Object(r.d)(Vc,null,Object(r.d)(Wc,null,Object(r.d)(h.q,null,Object(r.d)(Gc,null,Object(r.d)(h.c,null,Object(r.d)(h.m,null,Object(r.d)(Nc,null),Object(r.d)(Nc,{width:"7em"})))))),Object(r.d)(Wc,null,Object(r.d)(h.q,{reverse:!0},Object(r.d)(Gc,null,Object(r.d)(h.c,null,Object(r.d)(h.m,null,Object(r.d)(Nc,null)))))),Object(r.d)(Wc,null,Object(r.d)(h.q,null,Object(r.d)(Gc,null,Object(r.d)(h.c,null,Object(r.d)(h.m,null,Object(r.d)(Nc,null)))))))))};var Kc=Object(h.z)("div",{target:"e5cxvfk0"})({name:"iwp08z",styles:"display:flex;justify-content:center;font-size:0.9em"});var Zc="close_chat_confirm_label",Qc=Object(h.z)("p",{target:"ev8wfi80"})({name:"1azakc",styles:"text-align:center"}),Xc=function(e){var t=e.localize,n=e.closeChat,r=e.onModalStateChange,a=i.useState(!1),o=a[0],c=a[1],l=i.useState(!1),s=l[0],u=l[1],d=Object(fe.b)(),m=function(){c(!1),r({isOpen:!1})};return i.createElement(i.Fragment,null,i.createElement(cn,{description:t("close_chat")},i.createElement(V.n,{onPress:function(){c(!0),r({isOpen:!0})},"aria-label":t("close_chat")},i.createElement(V.e,{"aria-hidden":!0}))),i.createElement(ye,{shown:o,onClose:m,"aria-labelledby":Zc},i.createElement(Xt,{"aria-hidden":!0},i.createElement(V.k,null)),i.createElement(Qc,{id:Zc},t("leave_chat_confirm")),i.createElement(Kc,null,i.createElement(Ct,{destructive:!0,label:t("close_chat"),submitting:s,onClick:function(){d?m():(u(!0),n().then((function(){u(!1),m()})).catch((function(){u(!1)})))}}))))};var Jc="email-transcript-sent-label",$c="email-transcript-not-sent-label",el=Object(h.z)("h2",{target:"emwx8nd0"})({name:"xvo3ou",styles:"text-align:center;font-size:16px;font-weight:normal"}),tl=function(e){var t=e.email,n=e.localize,r=e.sent,a=e.open,o=e.onClose,l=e.onSubmit,s=e.mobile,u=Object(c.i)("email-transcript"),d=i.useState((function(){return{email:t}})),m=d[0],b=d[1];return i.useEffect((function(){if(a){var e=u.get();b(e||{email:t})}}),[u,t,a]),i.createElement(ye,{shown:a,onClose:o,"aria-labelledby":r?Jc:$c},a&&(r?i.createElement(i.Fragment,null,i.createElement(Xt,{"aria-hidden":!0},i.createElement(V.q,null)),i.createElement(el,{id:Jc,textWrap:!0},n("chat_transcript_sent").replace(/%s/g,t||"")),i.createElement(Kc,null,i.createElement(Et.a,{capitalize:!0,onClick:o},n("hide")))):i.createElement(i.Fragment,null,i.createElement(Xt,{"aria-hidden":!0},i.createElement(V.q,null)),i.createElement(el,{id:$c},n("send_transcript_to_email")),i.createElement(Ht,{id:"email_transcript",initialValues:m,mobile:s,onSubmit:function(e){return Math.random()<.01&&Object(fr.d)("chat_transcript_ordered",{}),l(e.email).then((function(){return u.destroy()})).catch((function(){var e;return(e={})[Hr.a]=n("lost_connection"),e}))},submitLabel:n("send"),validate:function(e){return e.email?{}:{email:n("survey_fill_in_required_fields")}}},i.createElement(h.q,null,i.createElement(xe.b,{onChange:function(e){var t=e.values;e.dirty&&u.set(t)}}),i.createElement(Jr,{ariaLabel:"Enter your email address",name:"email",required:!0,serverName:"",label:"",type:"email",localize:g.D}))))))};function nl(){var e=Object(k.a)(["\n\t&-enter {\n\t\topacity: 0;\n\n\t\t[role='menuitem'],\n\t\t[role='menuitemcheckbox'] {\n\t\t\ttransform: translate3d(0, 20%, 0);\n\t\t}\n\t}\n\n\t&-enter-active {\n\t\topacity: 1;\n\t\ttransition: opacity 100ms ease-in-out;\n\t\t[role='menuitem'],\n\t\t[role='menuitemcheckbox'] {\n\t\t\ttransform: translate3d(0, 0%, 0);\n\t\t\ttransition: transform 200ms;\n\t\t}\n\t}\n\n\t&-exit {\n\t\topacity: 1;\n\t}\n\n\t&-exit-active {\n\t\topacity: 0;\n\t\ttransition: opacity 100ms ease-in-out;\n\t}\n"]);return nl=function(){return e},e}var rl=function(e){return Object(r.c)("margin-"+(e.isRtl?"left":"right")+": 8px;","")},il=function(e){return e(nl())},al=Object(o.c)((function(e){var t=u.d,n=function(n){return e.requestUpdateChat(t,{properties:{transcriptSentTo:n}})},r=function(){e.setApplicationState({muted:!e.getApplicationState("muted")})};return function(e){var i=e.getChat(t),a=i.active,o=i.properties,c=o.transcriptSentTo,l=jr(e,"floating-menu");return{localize:e.localize,muted:e.getApplicationState("muted"),sendTranscript:n,transcriptSentTo:c,enableTranscript:!e.getApplicationState("isPreview")&&(a||o.ended),showTranscript:Object(b.h)("emailTranscript",e).enabled,toggleSounds:r,chatTransfer:l,customerEmail:e.getSessionUser().email,showVoiceAssistant:function(){return Object(x.G)(e,{url:u.k})}}}}))((function(e){var t=e.customerEmail,n=e.enableTranscript,o=e.localize,l=e.muted,s=e.sendTranscript,d=e.showTranscript,m=e.toggleSounds,b=e.chatTransfer,f=e.transcriptSentTo,g=e.showVoiceAssistant,h=i.useState(!1),j=h[0],O=h[1],y=i.useState(!1),x=y[0],w=y[1],E=Object(a.useFrame)(),k=Object(p.g)(),z=Object(pe.b)();Object(c.h)(E);var S=i.useRef(null),T=!!f,_=i.useCallback((function(e){switch(e){case"mute":return void m();case"transcript":return O(!1),void w(!0);case"identityTransfer":return Object(fr.d)("chat_app_button_clicked",{ui_source:"menu"}),O(!1),void b.showMoment();case"voiceAssistant":O(!1),g()}}),[m,b,g]);return Object(c.q)((function(){j&&Math.random()<.01&&Object(fr.d)("meatballs_menu_opened",{})}),[j]),i.useEffect((function(){return z.setMenuOpen(j)}),[j,z]),Object(r.d)(i.Fragment,null,Object(r.d)(cn,{isDisabled:j,description:o("theme_options")},Object(r.d)(V.n,{css:Object(r.c)("padding:0;height:32px;background-color:",j?k.colors.lighterOppositeTitleBarColor:"transparent",";"),ref:S,onPress:function(){return O((function(e){return!e}))},active:j,"aria-label":j?"Close menu":"Open menu","aria-expanded":j,"aria-haspopup":!0},Object(r.d)(V.f,{"aria-hidden":!0,color:k.colors.titleBarText}))),Object(r.d)(r.a,null,(function(e){var t=e.css;return Object(r.d)(v.a,{component:null},j&&Object(r.d)(C.a,{classNames:il(t),timeout:200},Object(r.d)(xa,{"aria-label":"Menu",menuButtonRef:S,onClose:function(){return O(!1)},onSelect:_},d&&Object(r.d)(ka,{disabled:!n,text:o("send_transcript"),value:"transcript"},Object(r.d)(V.q,{css:rl(k),"aria-hidden":!0}),o("send_transcript")),b.available&&Object(r.d)(ka,{text:u.h,value:"identityTransfer",disabled:b.disabled},Object(r.d)(V.s,{css:rl(k),"aria-hidden":!0}),u.h),Object(r.d)(Ca,{checked:l,text:o(l?"unmute":"mute"),value:"mute"},l?Object(r.d)(V.D,{css:rl(k),"aria-hidden":!0}):Object(r.d)(V.t,{css:rl(k),"aria-hidden":!0}),o(l?"unmute":"mute")),!1)))})),Object(r.d)(tl,{email:T?f:t,localize:o,onClose:function(){return w(!1)},onSubmit:s,sent:T,open:x}))}));var ol=function(e){return"modern"===e?28:32},cl=window.matchMedia("(max-height: 330px)"),ll=Object(h.z)("div",{displayName:"IconPlaceholder",target:"e7bf83j4"})({name:"febvbf",styles:"width:25px;flex-shrink:0"}),sl=function(e){return Object(r.c)("height:30px;line-height:30px;font-size:inherit;font-weight:700;margin-top:0;margin-bottom:0;transition:opacity 100ms ",e.transitions.easings.smooth,";")},ul=Object(h.z)("h1",{target:"e7bf83j3"})((function(e){var t=e.theme;return sl(t)}),";"),dl=Object(h.z)("button",{target:"e7bf83j2"})((function(e){var t=e.theme;return sl(t)})," width:100%;height:",(function(e){return"modern"===e.theme.name?"24px":"32px"}),";display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;color:inherit;background:none;border:none;cursor:pointer;appearance:none;"),ml=Object(h.z)("span",{target:"e7bf83j1"})({name:"ovk77c",styles:"min-width:0"}),bl=Object(h.z)("div",{target:"e7bf83j0"})(""),fl=function(e){return Object(g.hb)(e-1).map((function(e){return Object(r.d)(ll,{key:"placeholder_"+e})}))},pl=Object(o.c)((function(e){var t=function(e,t){return e&&e.name&&t?e.name:""},n=function(){return e.requestUpdateChat(u.d,{active:!1})},r=e.getApplicationState("embedded");return function(e){var i=Object(b.d)(u.d,e),a=!(Object(b.mb)(e)||Object(b.lb)(e)),o=Object(b.ib)(e);return{embedded:r,closeChat:n,title:e.localize("welcome_title"),alternateTitle:t(i,o),agent:i,showAlternateTitle:a,showCloseButton:e.getChat(u.d).active,localize:e.localize,showAgentBar:o,showAvatar:Object(b.h)("agentAvatar",e).enabled,isDropAreaVisible:e.getApplicationState("dropAreaVisible")}}}))((function(e){var t=e.showCloseButton,n=e.closeChat,a=e.localize,o=e.showMinimizedButton,l=e.title,s=e.alternateTitle,u=e.onMinimize,d=e.showAgentBar,m=e.showAlternateTitle,b=e.scrollingDeltaSource,g=e.agent,v=e.showAvatar,j=e.isOnBottomSource,O=e.isDropAreaVisible,y=Object(p.g)(),x=i.useRef(),w=i.useRef(),E=i.useRef(),k=i.useRef(cl.matches),C=i.useState(!0),z=C[0],S=C[1],T=i.useState(!1),_=T[0],R=T[1],I=Object(ie.f)(),A=y.name,F=i.useCallback((function(){x.current&&(x.current.style.opacity=1),w.current&&(w.current.style.opacity=0),E.current&&(E.current.style.transform="translateY("+ol(A)+"px)"),S(!0)}),[A]),M=i.useCallback((function(){if(m&&(b.next({deltaX:0,deltaY:-50}),I.focusVisible)){var e=Object(va.d)(document.getElementById(kn))[0];e&&e.focus()}}),[I.focusVisible,b,m]);Object(c.o)(F),Object(c.a)(b,(function(e){var t=e.y;s&&!k.current&&(x.current&&(x.current.style.opacity=1-2*t),w.current&&(w.current.style.opacity=t),E.current&&(E.current.style.transform=0===t?"translateY("+ol(A)+"px)":"translateY("+(ol(A)-60*t+("modern"===A?4:0))+"px)"),1===t&&z?S(!1):0!==t||z||S(!0))})),i.useEffect((function(){d&&s||F()}),[d,F,s]),i.useEffect((function(){var e=function(e){var t=e.matches;return k.current=t};return cl.addListener(e),function(){return cl.removeListener(e)}}),[]),i.useEffect((function(){if(j)return j.subscribe((function(e){e&&F()}))}),[j,F]);var P,L=function(e,t){var n=e.filter(Boolean),r=t.filter(Boolean);return n.length===r.length?{leftIcons:n,rightIcons:r}:n.length>r.length?{leftIcons:n,rightIcons:fl(n.length-r.length).concat(r)}:{leftIcons:n.concat(fl(r.length-n.length)),rightIcons:r}}([Object(r.d)(al,{key:"menu"})],[o&&Object(r.d)(cn,{key:"minimize",description:a("embedded_minimize_window")},Object(r.d)(V.n,{onPress:u,"aria-label":a("embedded_minimize_window")},Object(r.d)(V.r,{"aria-hidden":!0}))),(t||_)&&Object(r.d)(Xc,{key:"close",closeChat:n,localize:a,onModalStateChange:function(e){var t=e.isOpen;return R(t)}})]),B=L.leftIcons,q=L.rightIcons,H="modern"===A?"small":"normal";return Object(r.d)(h.x,{css:(P=O,Object(r.c)("overflow:hidden;flex-grow:0;text-align:left;padding:0 0.8em;font-weight:700;display:flex;align-items:center;transition:0.3s background-color;z-index:",P?103:2,";pointer-events:",P?"none":"all",";")),leftIcons:B,noShrink:!0,rightIcons:q,title:Object(r.d)(bl,{ref:E},Object(r.d)(ul,{ellipsis:!0,ref:x,style:{marginBottom:30},"aria-expanded":z},Object(r.d)(Gt.a,null,l)),Object(r.d)(dl,Object(f.a)({ref:w,disabled:z,onClick:M,"aria-expanded":z,"aria-controls":kn,"aria-label":s||l},I),m&&Object(r.d)(i.Fragment,null,g&&d&&v&&Object(r.d)(hn,{avatarUrl:g.avatar,size:H,availability:"online"}),g&&!v&&Object(r.d)(hn,{size:H,availability:"online"}),Object(r.d)(ml,{ellipsis:!0},s))))})})),gl=n(228);var hl=Object(h.z)("div",{displayName:"Footer",section:!0,target:"e13tedl72"})({name:"1xjcdp5",styles:"z-index:101"}),vl=Object(h.z)("a",{displayName:"FooterLink",target:"e13tedl71"})("display:flex;direction:ltr;align-items:center;justify-content:center;color:",(function(e){return e.theme.colors.trademarkFooterText}),";"),jl=Object(h.z)(gl.c,{target:"e13tedl70"})("margin-left:5px;",(function(e){return"smooth"===e.theme.name&&{top:"1px"}}),";"),Ol=Object(o.c)((function(e){var t=e.getApplicationState().license,n=document.referrer?Object(K.l)(Object(K.e)(document.referrer)||""):"lc"+t,r=b.U(e);return{url:"https://www.livechat.com/powered-by-livechat/?"+Object(K.a)(Object(f.a)({partner:n,utm_campaign:n,utm_source:"chat_window",utm_medium:"referral"},r&&{utm_term:"nonprofit"})),hidden:b.Y(e)}}))((function(e){var t=e.url;return e.hidden?null:i.createElement(hl,null,i.createElement(vl,{href:t,rel:"noreferrer",target:"_blank",draggable:!1},i.createElement("span",null,"Powered by "),i.createElement(jl,null)))}));var yl={name:"2gmwhl",styles:"z-index:102;position:relative"},xl={name:"l7pcb5",styles:"z-index:102;border-radius:inherit"};function wl(){var e=Object(a.useFrame)().document;return i.useEffect((function(){return Object(l.a)("#overlay_portal_container",e)}),[e]),Object(r.d)("div",{id:d,css:xl})}t.default=Object(o.c)((function(e){return{destroyed:e.getApplicationState().destroyed,showLoader:Object(b.jb)(e)}}))((function(e){var t=e.destroyed,n=e.showLoader,a=e.onMinimizeButtonPress,o=e.showMinimizedButton,l=Object(c.x)(!0),d=Object(c.x)({x:0,y:0});return t?Object(r.d)(Lc,null):n?Object(r.d)(Yc,null):Object(r.d)(i.Fragment,null,Object(r.d)(wl,null),Object(r.d)("div",{id:m,css:yl}),Object(r.d)(s.a,{autoFocus:Object(Lt.b)()},Object(r.d)(pl,{isOnBottomSource:l,onMinimize:a,showMinimizedButton:o,scrollingDeltaSource:d}),Object(r.d)(Tc,{id:u.d,scrollingDeltaSource:d,isOnBottomSource:l}),Object(r.d)(Ol,null)))}))}}]);